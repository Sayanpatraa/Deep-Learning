
import os
import datetime
from typing import Optional, Dict

import numpy as np
from PIL import Image
import torch
from diffusers import (
    StableDiffusionXLPipeline,
    StableDiffusionXLImg2ImgPipeline,
    EulerAncestralDiscreteScheduler,
)

try:
    import cv2
except ImportError:
    cv2 = None



# Negative prompt explicitly punishes bad legs/paws
DEFAULT_NEG = (
    "cartoon, painting, illustration, 3d render, cgi, smooth plastic skin, "
    "fake fur, waxy skin, stylized, anime, lowres, blurry, watermark, text, "
    "mangled paws, deformed legs, extra legs, fused limbs, "
    'incorrect canine joints, human-like legs, malformed hock, malformed stifle'
)

PHOTO_PRIOR = (
    "real-life RAW photograph, DSLR full-frame, 35mm or 85mm lens, natural lighting, "
    "accurate color science, true-to-life textures, high dynamic range, "
    "zero stylization, zero CGI, zero painting"
)

# Strong global canine anatomy prior (used for unknown breeds)
CANINE_ANATOMY_PRIOR = (
    "correct canine body structure: proportional head, neck, shoulders, ribcage and pelvis; "
    "straight, weight-bearing forelegs with visible carpus and pasterns; "
    "hind legs with anatomically correct femur and tibia, clear stifle (knee) angle, "
    "well-defined hock joint positioned above the ground, separate metatarsal bones, "
    "digitigrade stance, realistic paw spread with visible toes and claws, "
    "no human-like joints, no misplaced knees or ankles"
)

# Hind-leg specific prior to reinforce structure
HINDLEG_FOCUS = (
    "accurate hind-leg structure: proper femur-to-tibia proportion, "
    "stifle joint bending forward, hock joint bending backward, "
    "rear pastern nearly vertical, paws contacting the ground naturally, "
    "full hind paws visible with correct angle and weight distribution"
)


def to_np(img: Image.Image) -> np.ndarray:
    return np.array(img).astype(np.float32) / 255.0


def to_img(a: np.ndarray) -> Image.Image:
    return Image.fromarray((np.clip(a, 0, 1) * 255).astype(np.uint8))


def snap(v: int) -> int:
    # SDXL likes multiples of 8
    return (v // 8) * 8



def microfur(img: Image.Image) -> Image.Image:
    """
    Subtle microfur enhancement (no cartoon oversharpen).
    Operates mostly on luma channel for natural detail.
    """
    if cv2 is None:
        return img

    arr = to_np(img)
    yuv = cv2.cvtColor((arr * 255).astype(np.uint8), cv2.COLOR_RGB2YUV)
    Y = yuv[:, :, 0].astype(np.float32) / 255.0

    blur = cv2.GaussianBlur(Y, (0, 0), 1.2)
    detail = Y - blur
    # Slight boost, not too aggressive
    Y_new = np.clip(Y + detail * 1.6, 0, 1)

    yuv[:, :, 0] = (Y_new * 255).astype(np.uint8)
    rgb = cv2.cvtColor(yuv, cv2.COLOR_YUV2RGB).astype(np.float32) / 255.0
    return to_img(rgb)


def real_sensor_noise(img: Image.Image) -> Image.Image:
    """
    Adds realistic camera noise (shot + chroma).
    Helps break the 'CGI-perfect' look.
    """
    arr = to_np(img)

    # Shot noise (Poisson-like)
    shot = np.random.poisson(arr * 255.0) / 255.0
    arr = arr * 0.9 + shot * 0.1

    # Chroma noise
    arr = arr + np.random.normal(0, 0.008, arr.shape)
    arr = np.clip(arr, 0, 1)
    return to_img(arr)


def tone(img: Image.Image) -> Image.Image:
    """
    Mild S-curve + gamma tweak:
    Gives a real-camera tone curve without crushing detail.
    """
    arr = to_np(img)
    arr = 0.5 + (arr - 0.5) * 1.1  # slight contrast
    arr = np.power(arr, 1.02)      # tiny gamma adjustment
    return to_img(arr)



BREED_ANATOMY: Dict[str, Dict[str, str]] = {
    "labrador retriever": {
        "skull": "broad, clean head with moderate stop and strong muzzle",
        "body": "medium-large, athletic, deep-chested body with level topline",
        "fore_legs": "straight, strong forelegs with well-laid-back shoulders",
        "hind_legs": "powerful hindquarters with broad thighs and moderate stifle angulation, firm hocks",
        "legs_paws": "compact, webbed, well-padded paws with tight toes",
        "tail": "thick 'otter' tail carried level with back, tapering smoothly toward the tip",
        "fur": "short, dense, weather-resistant double coat lying close to the body",
        "ears": "medium-sized pendant ears set slightly above eye level and lying close to the head",
        "gait": "free, effortless, ground-covering gait with strong rear drive",
        "size": "medium-large sporting retriever",
    },
    "golden retriever": {
        "skull": "broad skull with well-defined stop and gentle expression",
        "body": "balanced, symmetrical body with deep chest and level topline",
        "fore_legs": "straight, sturdy forelegs with strong bone and correct pasterns",
        "hind_legs": "well-angulated hindquarters with muscular thighs and clean hocks",
        "legs_paws": "round, compact paws with thick pads and arched toes",
        "tail": "well-feathered tail carried roughly level with back, never tightly curled",
        "fur": "dense, water-repellent double coat with feathering on legs, chest, and tail",
        "ears": "medium pendant ears set roughly at eye level, lying close to cheeks",
        "gait": "smooth, powerful, coordinated gait with good reach and drive",
        "size": "medium-large gun dog",
    },
    "german shepherd": {
        "skull": "strong, wedge-shaped head with moderate stop and long muzzle",
        "body": "slightly elongated, deep-chested body with pronounced withers and gently sloping topline",
        "fore_legs": "straight, well-boned forelegs with firm pasterns",
        "hind_legs": "strong hindquarters with broad thighs, clearly defined stifle and low-set hocks",
        "legs_paws": "short, compact, well-arched paws with thick pads and dark nails",
        "tail": "bushy tail reaching at least to the hock, carried low in a gentle curve",
        "fur": "double coat with dense undercoat and straight, harsh outer hair",
        "ears": "large, erect ears set high and carried forward",
        "gait": "effortless, ground-covering trot with powerful rear drive and firm back",
        "size": "large herding and working breed",
    },
    "french bulldog": {
        "skull": "large square head with well-defined stop, short muzzle and characteristic wrinkles",
        "body": "compact, muscular body with broad chest and short, strong back",
        "fore_legs": "short, stout forelegs set wide apart with strong bone",
        "hind_legs": "slightly longer hind legs with moderate angulation and firm hocks",
        "legs_paws": "small, compact, well-padded paws turning neither in nor out",
        "tail": "short, low-set tail, often straight or screwed, carried low",
        "fur": "short, smooth, close-lying coat with fine texture",
        "ears": "distinctive bat ears: large, erect, broad at base and rounded at tip",
        "gait": "free, powerful, compact gait with good reach for size",
        "size": "small companion molosser",
    },
    "bulldog": {
        "skull": "large, broad skull with pronounced stop and short, wide muzzle",
        "body": "low-slung, massive body with broad shoulders and short back",
        "fore_legs": "short, strong, bowed forelegs with heavy bone",
        "hind_legs": "longer hind legs with moderate angulation, strong hocks, slightly higher rear",
        "legs_paws": "round, compact paws with well-arched toes and thick pads",
        "tail": "short, low-set tail, either straight or screwed, carried low",
        "fur": "short, smooth, fine coat lying close to the body",
        "ears": "small, thin 'rose' ears set high and folded back",
        "gait": "characteristic rolling gait with short strides and strong drive",
        "size": "medium compact molosser",
    },
    "beagle": {
        "skull": "slightly domed skull with moderate stop and straight, square muzzle",
        "body": "compact, sturdy body with deep chest and level topline",
        "fore_legs": "straight, well-boned forelegs with short pasterns",
        "hind_legs": "muscular hindquarters with good angulation at stifle and hock",
        "legs_paws": "round, firm 'cat feet' with strong pads",
        "tail": "moderately long tail carried high in a gentle curve, often with white tip",
        "fur": "short, dense coat providing good weather protection",
        "ears": "long, low-set pendant ears with rounded tips, lying close to cheeks",
        "gait": "free, active, effortless gait with good reach and drive",
        "size": "small to medium scent hound",
    },
    "rottweiler": {
        "skull": "broad skull with moderately arched forehead and strong, deep muzzle",
        "body": "compact, powerful, well-muscled body with deep chest and level back",
        "fore_legs": "straight, strong forelegs with heavy bone and firm pasterns",
        "hind_legs": "broad, muscular hindquarters with well-angulated stifles and strong hocks",
        "legs_paws": "round, compact feet with arched toes and thick pads",
        "tail": "natural tail carried in line with topline, forming a gentle curve in motion",
        "fur": "short, dense, coarse outer coat with undercoat on neck and thighs",
        "ears": "medium triangular ears set high and carried close to the head",
        "gait": "balanced, powerful trot with strong rear drive and firm topline",
        "size": "large working molosser",
    },
    "yorkshire terrier": {
        "skull": "small, flat skull with short muzzle and bright expression",
        "body": "compact, fine-boned body with level topline",
        "fore_legs": "straight, delicate forelegs with fine bone",
        "hind_legs": "moderately angulated hind legs with small, firm hocks",
        "legs_paws": "small, round paws with black nails and tight toes",
        "tail": "moderately long tail carried slightly higher than back line",
        "fur": "long, straight, silky coat parted along the spine",
        "ears": "small, V-shaped erect ears set high on the head",
        "gait": "light, brisk, confident gait with good reach and drive for size",
        "size": "toy terrier",
    },
    "boxer": {
        "skull": "square, strong head with pronounced stop and broad, blunt muzzle",
        "body": "medium-large, athletic body with deep chest and short, strong back",
        "fore_legs": "straight, well-boned forelegs with strong pasterns",
        "hind_legs": "muscular hindquarters with well-angulated stifles and low hocks",
        "legs_paws": "compact, arched paws with thick pads",
        "tail": "natural tail carried in continuation of topline, lively in motion",
        "fur": "short, smooth, tight-fitting coat",
        "ears": "medium-sized ears set high, typically carried forward and close to cheeks",
        "gait": "energetic, springy, ground-covering gait with strong drive",
        "size": "medium-large working dog",
    },
    "dachshund": {
        "skull": "elongated head with slightly arched skull and long muzzle",
        "body": "long, low body with prominent breastbone and strong, level back",
        "fore_legs": "short, strong forelegs with slightly curved bone adapted for digging",
        "hind_legs": "muscular hindquarters with moderate angulation and firm hocks",
        "legs_paws": "front paws broad and strong with well-arched toes; hind paws slightly smaller",
        "tail": "moderately long tail in line with topline, tapering toward the tip",
        "fur": "varies by variety: smooth, long-haired, or wire-haired",
        "ears": "long, rounded pendant ears set high and carried close to cheeks",
        "gait": "free, balanced movement with good reach and drive despite low stature",
        "size": "small scent hound with elongated body",
    },
    "doberman pinscher": {
        "skull": "long, wedge-shaped head with slight stop and strong muzzle",
        "body": "medium-large, elegant, square body with deep chest and firm topline",
        "fore_legs": "straight, well-muscled forelegs with strong bone and tight pasterns",
        "hind_legs": "powerful hindquarters with well-angulated stifle and strong, parallel hocks",
        "legs_paws": "small, compact, cat-like paws with arched toes",
        "tail": "natural tail carried in line with topline, active in motion",
        "fur": "short, hard, dense coat lying close to the body",
        "ears": "naturally medium, triangular ears carried close to cheeks",
        "gait": "elastic, free, balanced gait with strong drive and reach",
        "size": "medium-large working breed",
    },
    "australian shepherd": {
        "skull": "clean, slightly domed skull with moderate stop and tapered muzzle",
        "body": "slightly longer than tall, deep-chested, well-muscled body",
        "fore_legs": "straight forelegs with moderate bone and sloping shoulders",
        "hind_legs": "broad hindquarters with well-bent stifles and strong hocks",
        "legs_paws": "oval, compact feet with arched toes and thick pads",
        "tail": "naturally bobbed or full tail, carried low or level with back",
        "fur": "medium-length, weather-resistant double coat, slightly wavy or straight",
        "ears": "triangular, medium-sized ears set high and typically semi-erect",
        "gait": "smooth, effortless, agile gait suitable for working all day",
        "size": "medium herding dog",
    },
    "shih tzu": {
        "skull": "broad, rounded head with short muzzle and pronounced stop",
        "body": "sturdy, compact body with level topline and deep chest",
        "fore_legs": "short, straight forelegs with moderate bone",
        "hind_legs": "hind legs with moderate angulation and strong, well-muscled upper thighs",
        "legs_paws": "round, firm paws with well-arched toes and good pads",
        "tail": "heavily plumed tail carried high in a curve over the back",
        "fur": "long, dense, flowing double coat that may be parted along the spine",
        "ears": "large, heavily feathered pendant ears set slightly below the crown",
        "gait": "smooth, flowing gait with good reach and drive for size",
        "size": "small companion breed",
    },
    "cavalier king charles spaniel": {
        "skull": "slightly rounded skull with full muzzle and gentle expression",
        "body": "small, graceful body with moderately deep chest and level topline",
        "fore_legs": "straight, well-boned forelegs with tight elbows",
        "hind_legs": "moderately angulated hind legs with well-developed muscle",
        "legs_paws": "compact, cushioned paws with feathering between toes",
        "tail": "moderately long, well-feathered tail carried level with back",
        "fur": "silky, moderate-length coat with feathering on ears, chest, legs, and tail",
        "ears": "long, high-set pendant ears with abundant feathering",
        "gait": "free, elegant, and effortless gait with moderate reach and drive",
        "size": "small toy spaniel",
    },
    "pomeranian": {
        "skull": "fox-like head with slightly rounded skull and short muzzle",
        "body": "compact, square body with deep chest and level topline",
        "fore_legs": "straight, fine-boned forelegs with firm pasterns",
        "hind_legs": "well-angulated hind legs with strong hocks",
        "legs_paws": "small, compact, cat-like paws with arched toes",
        "tail": "plumed tail set high and carried flat over the back",
        "fur": "abundant double coat with short dense undercoat and long harsh outer coat forming a ruff",
        "ears": "small, erect, triangular ears set high and close together",
        "gait": "brisk, buoyant gait with proud carriage",
        "size": "toy spitz breed",
    },
    "chihuahua": {
        "skull": "rounded 'apple' skull with short, tapered muzzle",
        "body": "small, slightly longer than tall body with level topline",
        "fore_legs": "straight, fine-boned forelegs with small pasterns",
        "hind_legs": "hind legs with moderate angulation and small, firm hocks",
        "legs_paws": "small, dainty paws with well-arched toes",
        "tail": "moderately long tail carried in a sickle or loop over the back",
        "fur": "either smooth, close-lying coat or long, soft coat with fringes",
        "ears": "large, erect ears set at a 45-degree angle when alert",
        "gait": "quick, springy gait with good reach for size",
        "size": "very small toy companion",
    },
    "great dane": {
        "skull": "narrow, elongated head with flat top and pronounced stop",
        "body": "very large, rectangular body with deep chest and level topline",
        "fore_legs": "straight, extremely well-boned forelegs with strong pasterns",
        "hind_legs": "broad, muscular hindquarters with well-angulated stifles and low hocks",
        "legs_paws": "large, round, cat-like paws with well-arched toes",
        "tail": "long, tapering tail carried in a gentle curve, never over the back",
        "fur": "short, dense, glossy coat lying close to the body",
        "ears": "medium-sized natural ears carried close to cheeks",
        "gait": "long, elastic, ground-covering stride with powerful drive",
        "size": "giant working breed",
    },
    "siberian husky": {
        "skull": "medium, slightly rounded skull with tapered muzzle and almond eyes",
        "body": "medium-sized, compact, well-balanced body with deep chest and level topline",
        "fore_legs": "straight, moderately boned forelegs with slightly sloping pasterns",
        "hind_legs": "powerful hindquarters with moderate angulation and strong hocks",
        "legs_paws": "oval, snow-adapted paws with thick pads and fur between toes",
        "tail": "brush tail carried in a sickle curve over the back when alert",
        "fur": "dense double coat with soft undercoat and straight outer coat",
        "ears": "medium, triangular, erect ears set high and close together",
        "gait": "smooth, effortless, economical gait designed for endurance",
        "size": "medium working sled dog",
    },
    "bernese mountain dog": {
        "skull": "broad, flat skull with strong muzzle and gentle expression",
        "body": "large, sturdy, slightly longer than tall body with deep chest",
        "fore_legs": "straight, well-boned forelegs with strong pasterns",
        "hind_legs": "broad, muscular hindquarters with moderate angulation and strong hocks",
        "legs_paws": "round, compact paws with arched toes and thick pads",
        "tail": "long, bushy tail carried low or in a gentle upward curve",
        "fur": "long, slightly wavy or straight double coat with thick undercoat",
        "ears": "medium, pendant triangular ears set high and lying close to the head",
        "gait": "strong, purposeful, balanced gait with good reach and drive",
        "size": "large farm and draft dog",
    },
    "border collie": {
        "skull": "moderately broad skull with distinct stop and tapered muzzle",
        "body": "athletic, supple body slightly longer than tall with deep chest",
        "fore_legs": "straight forelegs with moderate bone and slightly sloping shoulders",
        "hind_legs": "well-muscled hindquarters with good angulation and firm hocks",
        "legs_paws": "oval, compact paws with arched toes and strong pads",
        "tail": "moderately long tail carried low with slight upward sweep at tip",
        "fur": "either smooth or rough double coat, weather-resistant",
        "ears": "medium-sized ears that may be erect, semi-erect, or tipped",
        "gait": "smooth, stealthy, ground-hugging gait with great agility",
        "size": "medium herding dog",
    },
    "shetland sheepdog": {
        "skull": "refined, wedge-shaped head with slight stop and long muzzle",
        "body": "small to medium, slightly elongated body with deep chest and level topline",
        "fore_legs": "straight, fine-boned forelegs with flexible pasterns",
        "hind_legs": "well-angulated hindquarters with muscular thighs and strong hocks",
        "legs_paws": "oval, compact paws with well-arched toes",
        "tail": "long, bushy tail carried low with slight upward curve in motion",
        "fur": "long, harsh outer coat with dense undercoat forming a mane and frill",
        "ears": "small ears carried semi-erect with tips folding forward",
        "gait": "light, effortless, agile gait with good reach and drive",
        "size": "small herding dog",
    },
    "miniature schnauzer": {
        "skull": "strong, rectangular head with bushy eyebrows and beard",
        "body": "compact, square body with deep chest and level topline",
        "fore_legs": "straight, well-boned forelegs with firm pasterns",
        "hind_legs": "well-angulated hindquarters with strong, parallel hocks",
        "legs_paws": "short, round paws with thick pads and arched toes",
        "tail": "high-set tail carried erect or slightly curved",
        "fur": "hard, wiry outer coat with dense undercoat, forming leg furnishings and beard",
        "ears": "small ears, typically V-shaped and folded, set high",
        "gait": "brisk, agile gait with good forward reach and rear drive",
        "size": "small terrier-type companion",
    },
    "giant schnauzer": {
        "skull": "strong, elongated head with pronounced beard and eyebrows",
        "body": "large, powerful, square body with deep chest and firm topline",
        "fore_legs": "straight, heavily boned forelegs with strong pasterns",
        "hind_legs": "broad, muscular hindquarters with well-angulated stifles and low hocks",
        "legs_paws": "round, compact paws with well-arched toes and thick pads",
        "tail": "high-set tail carried in a lively curve",
        "fur": "dense, harsh, wiry coat with pronounced furnishings on legs and face",
        "ears": "medium, V-shaped ears set high and folding close to head",
        "gait": "powerful, free gait with strong drive and solid back",
        "size": "large working breed",
    },
    "standard schnauzer": {
        "skull": "strong, rectangular head with bushy eyebrows and beard",
        "body": "medium, square body with well-sprung ribs and firm topline",
        "fore_legs": "straight, muscular forelegs with medium bone",
        "hind_legs": "well-angulated hindquarters with strong, parallel hocks",
        "legs_paws": "compact, rounded paws with arched toes",
        "tail": "high-set tail carried cheerful and curved",
        "fur": "harsh, wiry outer coat with dense undercoat",
        "ears": "medium-sized folded ears, V-shaped and set high",
        "gait": "energetic, balanced gait with good reach and drive",
        "size": "medium working and companion dog",
    },
    "american cocker spaniel": {
        "skull": "rounded skull with well-defined stop and square muzzle",
        "body": "compact body with deep chest and slightly sloping topline",
        "fore_legs": "straight, well-boned forelegs with sloping shoulders",
        "hind_legs": "well-angulated hindquarters with muscular thighs and low hocks",
        "legs_paws": "compact, well-padded paws with arched toes and heavy feathering",
        "tail": "moderately short tail carried level or slightly higher than back",
        "fur": "abundant, silky coat with heavy feathering on ears, chest, legs, and belly",
        "ears": "long, low-set pendant ears with luxurious feathering",
        "gait": "merry, effortless gait with good reach and drive",
        "size": "small sporting spaniel",
    },
    "english springer spaniel": {
        "skull": "fairly broad skull with moderate stop and well-proportioned muzzle",
        "body": "medium, athletic body with deep chest and level topline",
        "fore_legs": "straight, well-boned forelegs with slightly sloping shoulders",
        "hind_legs": "strong hindquarters with well-bent stifles and short hocks",
        "legs_paws": "compact, well-padded paws with slightly arched toes",
        "tail": "medium-length tail carried horizontally and actively in motion",
        "fur": "medium-length, weather-resistant coat with moderate feathering",
        "ears": "long, lobular ears set at eye level and well feathered",
        "gait": "long, efficient stride with strong drive from hindquarters",
        "size": "medium gun dog",
    },
    "boston terrier": {
        "skull": "square skull with short muzzle and well-defined stop",
        "body": "compact, well-balanced body with deep chest and short back",
        "fore_legs": "straight, fine-boned forelegs set fairly wide",
        "hind_legs": "well-muscled hind legs with moderate angulation",
        "legs_paws": "small, round paws with short nails",
        "tail": "short tail, either straight or screw, set low and carried down",
        "fur": "short, smooth coat with fine texture",
        "ears": "small, erect ears set near corners of skull",
        "gait": "brisk, straight, and stylish gait with good reach",
        "size": "small companion breed",
    },
    "havanese": {
        "skull": "slightly rounded skull with moderate stop and medium-length muzzle",
        "body": "small, slightly longer than tall body with level topline",
        "fore_legs": "straight, fine-boned forelegs",
        "hind_legs": "hind legs with moderate angulation and firm hocks",
        "legs_paws": "small, compact paws with well-arched toes",
        "tail": "plumed tail carried arched over the back",
        "fur": "long, soft, wavy coat forming gentle curls or waves",
        "ears": "medium pendant ears set slightly high, falling close to cheeks",
        "gait": "lively, elastic gait with springy steps",
        "size": "small bichon-type companion",
    },
    "maltese": {
        "skull": "slightly rounded skull with fine, tapered muzzle",
        "body": "small, compact body with level topline",
        "fore_legs": "straight, fine-boned forelegs with short pasterns",
        "hind_legs": "hind legs with moderate angulation and well-developed muscles",
        "legs_paws": "small, round paws with black pads and tight toes",
        "tail": "long, plumed tail carried gracefully over the back",
        "fur": "long, flat, silky white coat reaching the ground",
        "ears": "dropped ears with long hair framing the face",
        "gait": "smooth, flowing gait with good reach for size",
        "size": "toy companion breed",
    },
    "bichon frise": {
        "skull": "slightly rounded skull with short, tapered muzzle",
        "body": "small, sturdy body with deep chest and level topline",
        "fore_legs": "straight, fine-boned forelegs with sloping shoulders",
        "hind_legs": "well-angulated hindquarters with muscular thighs",
        "legs_paws": "small, rounded paws with tight toes and black pads",
        "tail": "plumed tail carried over the back in a graceful curve",
        "fur": "soft, dense undercoat with curly outer coat forming a powder-puff appearance",
        "ears": "dropped ears covered with long, flowing hair",
        "gait": "jaunty, springy gait with head carried high",
        "size": "small non-sporting companion",
    },
    "akita": {
        "skull": "massive head with broad skull and deep muzzle",
        "body": "large, powerful, well-boned body with deep chest and level back",
        "fore_legs": "straight, heavily boned forelegs with strong pasterns",
        "hind_legs": "strong hindquarters with well-angulated stifles and firm hocks",
        "legs_paws": "cat-like paws with thick pads, arched toes, and strong nails",
        "tail": "large, full tail carried curled over the back or to one side",
        "fur": "thick double coat with dense undercoat and harsh outer hair",
        "ears": "small, triangular, erect ears set well forward",
        "gait": "powerful, steady, balanced gait with strong drive",
        "size": "large spitz-type guardian",
    },
    "samoyed": {
        "skull": "broad, slightly domed skull with tapered muzzle and characteristic 'Sammy smile'",
        "body": "medium to large, strong, slightly longer than tall body with deep chest",
        "fore_legs": "straight, well-boned forelegs with slightly sloping pasterns",
        "hind_legs": "muscular hindquarters with moderate angulation and strong hocks",
        "legs_paws": "oval paws with thick pads and hair between toes for insulation",
        "tail": "long, plumed tail carried curled over the back or to one side",
        "fur": "abundant, harsh outer coat with dense woolly undercoat, forming ruff and breeches",
        "ears": "medium, thick, triangular ears carried erect and slightly rounded at tips",
        "gait": "free, tireless, agile gait suited for pulling and endurance",
        "size": "medium-large arctic spitz",
    },
    "pembroke welsh corgi": {
        "skull": "fox-like head with flat skull and tapered muzzle",
        "body": "long, low-set body with deep chest and level topline",
        "fore_legs": "short, strong forelegs with noticeable bone and slightly curved forearms",
        "hind_legs": "short, muscular hind legs with moderate angulation and strong hocks",
        "legs_paws": "oval, compact paws with well-arched toes",
        "tail": "short or naturally bobbed tail carried in line with back",
        "fur": "medium-length, weather-resistant double coat",
        "ears": "medium, erect ears with slightly rounded tips",
        "gait": "free, active gait with efficient, ground-covering steps",
        "size": "small herding dog",
    },
    "cardigan welsh corgi": {
        "skull": "broad, flat skull with moderate stop and slightly tapered muzzle",
        "body": "long, low, sturdy body with deep chest and moderately arched loin",
        "fore_legs": "short, strong forelegs with slightly curved bone and deep chest between them",
        "hind_legs": "strong hindquarters with good angulation and parallel hocks",
        "legs_paws": "round, compact paws with well-arched toes and thick pads",
        "tail": "long, bushy tail carried low when at rest",
        "fur": "medium-length, dense, weather-resistant double coat",
        "ears": "large, erect ears set wide apart and slightly rounded at tips",
        "gait": "smooth, ground-covering gait with good reach and drive",
        "size": "small to medium herding dog",
    },
    "saint bernard": {
        "skull": "massive head with broad skull, pronounced stop, and strong muzzle",
        "body": "very large, powerful body with deep chest and broad back",
        "fore_legs": "straight, heavily boned forelegs with strong pasterns",
        "hind_legs": "broad, muscular hindquarters with moderate angulation and strong hocks",
        "legs_paws": "large, broad paws with well-arched toes and thick pads",
        "tail": "long, heavy tail carried low with slight upward curve at tip",
        "fur": "either short dense coat or longer slightly wavy coat with feathering",
        "ears": "medium, triangular pendant ears set high and close to cheeks",
        "gait": "steady, powerful gait with smooth, unhurried stride",
        "size": "giant mountain rescue dog",
    },
    "newfoundland": {
        "skull": "broad, massive head with short, square muzzle",
        "body": "large, powerful, deep-bodied frame with broad back",
        "fore_legs": "straight, heavily boned forelegs with strong pasterns",
        "hind_legs": "broad, muscular hindquarters with moderate angulation and strong hocks",
        "legs_paws": "large, webbed paws with thick pads for swimming",
        "tail": "broad at base, strong tail carried low or level in motion",
        "fur": "water-resistant double coat with coarse outer hair and dense undercoat",
        "ears": "small, triangular ears set well back and lying close to head",
        "gait": "strong, smooth, and powerful gait with good reach and drive",
        "size": "giant working water dog",
    },
    "airedale terrier": {
        "skull": "long, flat skull with minimal stop and strong, rectangular muzzle",
        "body": "medium-large, strong, square body with deep chest",
        "fore_legs": "straight, well-boned forelegs with strong pasterns",
        "hind_legs": "muscular hindquarters with good angulation and well-let-down hocks",
        "legs_paws": "small, round, cat-like paws with thick pads",
        "tail": "high-set tail carried erect or slightly curved",
        "fur": "dense, wiry outer coat with soft undercoat, forming furnishings on legs and muzzle",
        "ears": "small, V-shaped ears carried folded and close to head",
        "gait": "free, long-striding gait with strong rear drive",
        "size": "large terrier",
    },
    "west highland white terrier": {
        "skull": "broad skull with defined stop and short, blunt muzzle",
        "body": "compact, sturdy body with deep chest and level back",
        "fore_legs": "short, strong forelegs well suited for digging",
        "hind_legs": "muscular hind legs with moderate angulation",
        "legs_paws": "round, strong paws with thick pads",
        "tail": "short, carrot-shaped tail carried upright",
        "fur": "harsh, straight white outer coat with soft undercoat",
        "ears": "small, erect, pointed ears set wide apart",
        "gait": "free, jaunty gait with good reach and drive",
        "size": "small earth terrier",
    },
    "scottish terrier": {
        "skull": "long, moderately narrow skull with pronounced eyebrows and beard",
        "body": "compact, low-set body with deep chest and strong loin",
        "fore_legs": "short, powerful forelegs with heavy bone and slightly bowed forearms",
        "hind_legs": "strong hindquarters with good angulation and firm hocks",
        "legs_paws": "thick, round paws with strong pads",
        "tail": "medium-length tail carried upright or slightly curved",
        "fur": "hard, wiry outer coat with dense undercoat and pronounced furnishings",
        "ears": "small, pointed ears carried erect and set high",
        "gait": "characteristic free and powerful gait with strong drive",
        "size": "small, strong terrier",
    },
    "staffordshire bull terrier": {
        "skull": "broad skull with pronounced cheek muscles and short muzzle",
        "body": "compact, muscular body with deep chest and level back",
        "fore_legs": "straight forelegs with strong bone and well-sprung pasterns",
        "hind_legs": "well-muscled hindquarters with moderate angulation",
        "legs_paws": "medium, well-padded paws with strong nails",
        "tail": "medium-length tail shaped like an old-fashioned pump handle",
        "fur": "short, smooth, close-lying coat",
        "ears": "rose or half-pricked ears of medium size",
        "gait": "free, powerful gait showing strength and agility",
        "size": "medium bull-type terrier",
    },
    "american staffordshire terrier": {
        "skull": "broad skull with pronounced cheek muscles and strong, square muzzle",
        "body": "medium, powerful, well-muscled body with deep chest",
        "fore_legs": "straight, heavily boned forelegs with strong pasterns",
        "hind_legs": "muscular hindquarters with well-bent stifles and firm hocks",
        "legs_paws": "medium-sized, compact paws with well-arched toes",
        "tail": "short to medium tail, low-set and tapering",
        "fur": "short, close, stiff coat with glossy appearance",
        "ears": "high-set, either rose or semi-erect ears",
        "gait": "springy, powerful, agile gait with good reach and drive",
        "size": "medium bull-type terrier",
    },
    "dalmatian": {
        "skull": "flat skull with moderate stop and long, strong muzzle",
        "body": "medium, balanced, muscular body with deep chest and level topline",
        "fore_legs": "straight, strong forelegs with good bone and slightly sloping shoulders",
        "hind_legs": "well-angulated hindquarters with muscular thighs and strong hocks",
        "legs_paws": "compact, round feet with well-arched toes",
        "tail": "moderately long tail carried with slight upward curve",
        "fur": "short, dense, sleek coat with distinct spots",
        "ears": "medium, triangular ears set fairly high and carried close to head",
        "gait": "smooth, efficient, ground-covering trot suited for endurance",
        "size": "medium coach and companion dog",
    },
    "weimaraner": {
        "skull": "long, aristocratic head with moderate stop and strong muzzle",
        "body": "medium-large, athletic, deep-chested body with slightly sloping topline",
        "fore_legs": "straight, well-boned forelegs with sloping shoulders",
        "hind_legs": "muscular hindquarters with good angulation and firm hocks",
        "legs_paws": "compact, webbed paws with well-arched toes",
        "tail": "medium-length tail carried level or slightly above back in motion",
        "fur": "short, smooth, close-lying silver-gray coat",
        "ears": "long, lobular ears set high and hanging close to cheeks",
        "gait": "smooth, ground-covering gait with effortless stride",
        "size": "medium-large pointing dog",
    },
    "vizsla": {
        "skull": "moderately wide skull with slight stop and strong, square muzzle",
        "body": "medium, lean, and muscular body with deep chest",
        "fore_legs": "straight, well-boned forelegs with sloping shoulders",
        "hind_legs": "strong hindquarters with good angulation and firm hocks",
        "legs_paws": "tight, arched paws with thick pads",
        "tail": "moderately long tail carried level with back or slightly elevated in motion",
        "fur": "short, dense, close-lying golden-rust coat",
        "ears": "thin, silky pendant ears set slightly back and hanging close",
        "gait": "light, elegant, and energetic gait with plenty of drive",
        "size": "medium pointing and retrieving breed",
    },
    "rhodesian ridgeback": {
        "skull": "fairly broad skull with flat top and strong muzzle",
        "body": "powerful, symmetrical body with deep chest and level back",
        "fore_legs": "straight, long forelegs with strong bone",
        "hind_legs": "muscular hindquarters with good angulation and strong hocks",
        "legs_paws": "compact, well-arched paws with tough pads",
        "tail": "tapering tail carried in gentle curve, not curled over back",
        "fur": "short, dense coat with distinctive ridge of hair along back",
        "ears": "medium, pendant ears set high and carried close to head",
        "gait": "free, active, and long-reaching gait with strong rear drive",
        "size": "large hound and guardian",
    },
    "german shorthaired pointer": {
        "skull": "clean-cut head with moderately broad skull and long muzzle",
        "body": "medium, athletic body with deep chest and slightly sloping topline",
        "fore_legs": "straight, well-boned forelegs with slightly sloping shoulders",
        "hind_legs": "strong hindquarters with well-bent stifles and strong hocks",
        "legs_paws": "compact, webbed paws with thick pads",
        "tail": "medium tail carried horizontally, active in motion",
        "fur": "short, dense, firm coat, often ticked or patched",
        "ears": "broad, pendant ears set high and lying close to head",
        "gait": "smooth, coordinated trot with plenty of reach and drive",
        "size": "medium gun dog",
    },
    "basset hound": {
        "skull": "large, domed skull with deep stop and long, heavy muzzle",
        "body": "long, heavy-boned, low-set body with deep chest",
        "fore_legs": "short, strong forelegs with outward curve and heavy bone",
        "hind_legs": "short, muscular hind legs with moderate angulation",
        "legs_paws": "large, heavy paws with thick pads suitable for tracking",
        "tail": "long, strong tail carried high in a sabre curve",
        "fur": "short, dense, smooth coat lying close to the body",
        "ears": "extremely long, low-set, velvety pendant ears",
        "gait": "deliberate, powerful gait with elastic, ground-covering stride",
        "size": "medium scent hound with dwarf proportions",
    },
    "greyhound": {
        "skull": "long, narrow head with slight stop and fine muzzle",
        "body": "deep-chested, narrow waist, highly aerodynamic, built for speed",
        "fore_legs": "long, straight forelegs with fine bone and strong pasterns",
        "hind_legs": "very muscular hindquarters with pronounced angulation",
        "legs_paws": "compact, hare-like feet with well-arched toes",
        "tail": "long, thin tail carried low in a gentle curve",
        "fur": "short, smooth, fine coat",
        "ears": "small, rose-shaped ears carried back when relaxed",
        "gait": "long, effortless stride with great extension and powerful drive",
        "size": "large sighthound",
    },
    "whippet": {
        "skull": "long, lean head with slight stop and fine muzzle",
        "body": "slim, muscular body with deep chest and pronounced tuck-up",
        "fore_legs": "straight, fine-boned forelegs with flexible pasterns",
        "hind_legs": "strong hindquarters with good angulation and long thighs",
        "legs_paws": "neat, hare-like feet with arched toes",
        "tail": "long, tapering tail carried low in gentle curve",
        "fur": "short, close, fine coat",
        "ears": "small, rose ears carried back when relaxed",
        "gait": "light, free, and athletic gait with strong propulsion",
        "size": "medium sighthound",
    },
    "alaskan malamute": {
        "skull": "broad head with slight stop and strong muzzle",
        "body": "large, powerful body with deep chest and level back",
        "fore_legs": "straight, heavily boned forelegs with strong pasterns",
        "hind_legs": "broad, muscular hindquarters with moderate angulation and firm hocks",
        "legs_paws": "large, snowshoe-like feet with thick pads and fur between toes",
        "tail": "well-furred tail carried in a plume over the back",
        "fur": "very dense double coat with thick undercoat and harsh outer hair",
        "ears": "medium, triangular, erect ears set wide apart",
        "gait": "steady, powerful, tireless gait suitable for heavy pulling",
        "size": "large sled dog",
    },
    "chow chow": {
        "skull": "broad, flat skull with short, broad muzzle",
        "body": "compact, square body with deep chest and strong loin",
        "fore_legs": "straight, well-boned forelegs with upright shoulders",
        "hind_legs": "hind legs with minimal angulation, nearly straight hocks",
        "legs_paws": "small, cat-like feet with thick pads",
        "tail": "high-set tail carried curled over back",
        "fur": "either rough profuse double coat or smooth short double coat",
        "ears": "small, thick, triangular ears carried erect and slightly forward",
        "gait": "short, stilted gait due to straight hind limbs",
        "size": "medium spitz-type guardian",
    },
    "shiba inu": {
        "skull": "fox-like head with slightly rounded skull and tapered muzzle",
        "body": "compact, well-muscled body with deep chest",
        "fore_legs": "straight, strong forelegs with moderate bone",
        "hind_legs": "well-angulated hindquarters with firm hocks",
        "legs_paws": "cat-like feet with thick pads and arched toes",
        "tail": "thick, curled or sickle tail carried over the back",
        "fur": "double coat with soft undercoat and straight, harsh outer coat",
        "ears": "small, triangular, erect ears set high",
        "gait": "light, agile, brisk gait with quick steps",
        "size": "small spitz-type companion and hunter",
    },
    "japanese spitz": {
        "skull": "wedge-shaped head with slightly rounded skull and pointed muzzle",
        "body": "compact, balanced body with deep chest",
        "fore_legs": "straight, fine-boned forelegs",
        "hind_legs": "moderately angulated hindquarters with strong hocks",
        "legs_paws": "small, oval paws with arched toes",
        "tail": "long, plumed tail carried curled over the back",
        "fur": "profuse, pure white double coat with thick undercoat",
        "ears": "small, triangular, erect ears set high and close",
        "gait": "light, free, and lively gait",
        "size": "small spitz companion",
    },
    "keeshond": {
        "skull": "moderately broad head with slight stop and fox-like muzzle",
        "body": "compact, sturdy body with deep chest",
        "fore_legs": "straight, moderately boned forelegs",
        "hind_legs": "well-angulated hindquarters with strong hocks",
        "legs_paws": "round, compact paws with arched toes",
        "tail": "high-set, tightly curled tail carried over the back",
        "fur": "abundant, harsh outer coat with thick undercoat forming mane and breeches",
        "ears": "small, triangular erect ears set high",
        "gait": "brisk, agile gait with moderate reach and drive",
        "size": "medium spitz breed",
    },
    "australian cattle dog": {
        "skull": "broad skull with slight stop and strong muzzle",
        "body": "compact, muscular, slightly longer than tall body with deep chest",
        "fore_legs": "straight, strong forelegs with solid bone",
        "hind_legs": "powerful hindquarters with well-bent stifles and strong hocks",
        "legs_paws": "round, cat-like paws with deep pads and short nails",
        "tail": "moderately long, slightly curved tail with brush of hair",
        "fur": "short, dense, weather-resistant double coat",
        "ears": "medium, pricked ears set wide and carried erect",
        "gait": "springy, tireless gait with strong drive suitable for herding",
        "size": "medium heeler-type herding dog",
    },

    "irish setter": {
        "skull": "long, lean skull with pronounced stop and elegant muzzle",
        "body": "athletic, slightly elongated body with deep chest and arched loin",
        "fore_legs": "straight, well-boned forelegs with sloping shoulders",
        "hind_legs": "powerful hindquarters with well-bent stifles and strong parallel hocks",
        "legs_paws": "tight, well-arched paws with strong pads",
        "tail": "long, feathered tail carried level with back",
        "fur": "long, silky, deep red coat with feathering on chest, legs, and tail",
        "ears": "long, low-set pendant ears with heavy feathering",
        "gait": "long-reaching, elegant gait with smooth drive",
        "size": "large sporting gundog",
    },
    "irish wolfhound": {
        "skull": "long, slightly domed skull with strong, elongated muzzle",
        "body": "very large, tall, powerful body with deep chest and broad back",
        "fore_legs": "straight, heavily boned forelegs with strong pasterns",
        "hind_legs": "extremely powerful hindquarters with long thighs and good angulation",
        "legs_paws": "large, round paws with well-arched toes",
        "tail": "long, slightly curved tail covered with rough hair",
        "fur": "harsh, wiry coat with dense undercoat",
        "ears": "small, rose-shaped ears carried back",
        "gait": "easy, active trotting gait with long stride",
        "size": "giant sighthound",
    },
    "scottish deerhound": {
        "skull": "long, narrow skull with slight stop and tapered muzzle",
        "body": "tall, elegant, slightly arched loin, deep chest",
        "fore_legs": "straight, moderately boned forelegs",
        "hind_legs": "long, muscular hindquarters with well-bent stifle",
        "legs_paws": "compact, well-arched paws",
        "tail": "long, tapering tail carried low",
        "fur": "harsh, wiry coat with softer furnishings",
        "ears": "small rose ears carried back except when alert",
        "gait": "strong, elastic stride typical of sighthounds",
        "size": "large sighthound",
    },
    "afghan hound": {
        "skull": "refined, narrow skull with slight stop and long muzzle",
        "body": "tall, aristocratic, with deep chest and arched loin",
        "fore_legs": "long, straight forelegs with fine bone",
        "hind_legs": "powerful hindquarters with moderate angulation and low hocks",
        "legs_paws": "large, well-cushioned paws adapted for rough terrain",
        "tail": "long tail with ring at tip, carried low",
        "fur": "very long, silky coat flowing from all parts of body",
        "ears": "long pendant ears covered with silky hair",
        "gait": "floating, elastic gait with rapid extension",
        "size": "large sighthound",
    },
    "english setter": {
        "skull": "long skull with moderate stop and square muzzle",
        "body": "graceful, balanced body with deep chest and level topline",
        "fore_legs": "straight forelegs with moderate bone",
        "hind_legs": "well-angulated hindquarters with muscular thighs",
        "legs_paws": "oval paws with well-arched toes and feathering",
        "tail": "long feathered tail carried level with back",
        "fur": "long, silky coat with feathering, often flecked (belton pattern)",
        "ears": "low-set pendant ears with feathering",
        "gait": "smooth, efficient gait with reach and drive",
        "size": "medium-large setter",
    },
    "gordon setter": {
        "skull": "comparatively heavy head with pronounced stop and strong muzzle",
        "body": "solid, well-muscled body with level back",
        "fore_legs": "straight, heavy-boned forelegs",
        "hind_legs": "strong, well-angulated hindquarters",
        "legs_paws": "well-padded paws with feathering",
        "tail": "long tail with dense feathering, carried level",
        "fur": "soft, straight or slightly wavy black-and-tan coat",
        "ears": "long pendant ears with feathering",
        "gait": "powerful, efficient stride suited for long distances",
        "size": "large setter",
    },
    "english pointer": {
        "skull": "medium-length skull with defined stop and long muzzle",
        "body": "athletic, lean body with deep chest and elegant curves",
        "fore_legs": "straight, well-boned forelegs",
        "hind_legs": "muscular hindquarters with good angulation",
        "legs_paws": "oval paws with tight toes",
        "tail": "medium-length tail carried straight and level",
        "fur": "short, smooth, dense coat",
        "ears": "medium-length pendant ears",
        "gait": "fast, ground-covering gait with explosive drive",
        "size": "medium-large pointing dog",
    },
    "brittany spaniel": {
        "skull": "rounded skull with well-defined stop and short muzzle",
        "body": "compact, square body with deep chest",
        "fore_legs": "straight forelegs with moderate bone",
        "hind_legs": "muscular hindquarters with well-bent stifles",
        "legs_paws": "small, tight paws with well-arched toes",
        "tail": "natural bobtail or short tail carried level",
        "fur": "medium-length, slightly wavy coat with minimal feathering",
        "ears": "short, triangular pendant ears",
        "gait": "light, agile, high-energy gait",
        "size": "medium sporting spaniel",
    },
    "bearded collie": {
        "skull": "broad, flat skull with strong muzzle and full beard",
        "body": "medium, long body with deep chest",
        "fore_legs": "straight forelegs with moderate bone",
        "hind_legs": "well-angulated hindquarters with strong second thigh",
        "legs_paws": "oval paws with arched toes and thick pads",
        "tail": "long tail carried low except in motion",
        "fur": "long, shaggy double coat forming beard and eyebrows",
        "ears": "medium pendant ears blending into coat",
        "gait": "free, effortless movement suited for herding",
        "size": "medium herding dog",
    },
    "old english sheepdog": {
        "skull": "large skull with well-defined stop and square muzzle",
        "body": "compact, strong body with level back",
        "fore_legs": "straight, well-boned forelegs",
        "hind_legs": "strong hindquarters with moderate angulation",
        "legs_paws": "large, round paws with thick pads",
        "tail": "typically docked historically, bobbed appearance",
        "fur": "profuse, shaggy, weather-resistant double coat",
        "ears": "medium pendant ears hidden in coat",
        "gait": "rolling, powerful gait",
        "size": "large herding dog",
    },
    "briard": {
        "skull": "long, rectangular skull with strong muzzle",
        "body": "powerful, slightly longer than tall body with deep chest",
        "fore_legs": "straight, muscular forelegs",
        "hind_legs": "well-angulated hindquarters with strong hocks",
        "legs_paws": "large, round paws with thick pads",
        "tail": "long tail with slight hook at tip",
        "fur": "long, coarse, slightly wavy coat forming beard and eyebrows",
        "ears": "cropped erect ears or natural high-set ears",
        "gait": "elastic, ground-covering gait with strong drive",
        "size": "large French herding dog",
    },
    "komondor": {
        "skull": "large skull with moderate stop and strong muzzle",
        "body": "massive, powerful body with deep chest",
        "fore_legs": "straight, heavy-boned forelegs",
        "hind_legs": "broad, muscular hindquarters with moderate angulation",
        "legs_paws": "large, strong paws with thick pads",
        "tail": "long tail carried low",
        "fur": "long, corded coat forming dense white cords",
        "ears": "medium pendant ears blending into cords",
        "gait": "steady, deliberate gait with surprising agility",
        "size": "giant livestock guardian",
    },
    "kuvasz": {
        "skull": "wedge-shaped head with slight stop",
        "body": "large, strong, slightly elongated body with deep chest",
        "fore_legs": "straight, well-boned forelegs",
        "hind_legs": "strong hindquarters with moderate angulation",
        "legs_paws": "large, oval paws with thick pads",
        "tail": "long, slightly curved tail carried low",
        "fur": "dense double coat with coarse outer hair, white in color",
        "ears": "medium pendant ears",
        "gait": "powerful, graceful, balanced gait",
        "size": "large livestock guardian",
    },
    "anatolian shepherd": {
        "skull": "large, broad skull with strong muzzle",
        "body": "massive, powerful, well-muscled body",
        "fore_legs": "straight, heavy-boned forelegs",
        "hind_legs": "powerful hindquarters with moderate angulation",
        "legs_paws": "large, strong paws for endurance",
        "tail": "long, curled tail carried high when alert",
        "fur": "short to medium dense double coat",
        "ears": "medium pendant ears",
        "gait": "steady, smooth, tireless gait",
        "size": "giant livestock guardian",
    },
    "great pyrenees": {
        "skull": "broad, wedge-shaped head with gentle expression",
        "body": "large, strong body with deep chest and level back",
        "fore_legs": "straight, well-boned forelegs",
        "hind_legs": "powerful hindquarters with moderate angulation",
        "legs_paws": "large, well-padded paws often with double dewclaws",
        "tail": "long, plumed tail carried low or in wheel shape",
        "fur": "thick weather-resistant double coat, often white",
        "ears": "small pendant ears set at eye level",
        "gait": "smooth, effortless gait suited for guarding flocks",
        "size": "giant livestock guardian",
    },
    "tibetan mastiff": {
        "skull": "broad skull with pronounced occiput and strong muzzle",
        "body": "large, powerful, substantial body with deep chest",
        "fore_legs": "straight, heavy-boned forelegs",
        "hind_legs": "strong hindquarters with moderate angulation and thick hocks",
        "legs_paws": "large, strong paws with thick pads",
        "tail": "long, heavily plumed tail curled over back",
        "fur": "thick double coat forming heavy mane around neck and shoulders",
        "ears": "medium, pendant ears set high",
        "gait": "slow, powerful, deliberate gait",
        "size": "giant guardian breed",
    },
    "cane corso": {
        "skull": "large, broad skull with pronounced stop and square muzzle",
        "body": "muscular, athletic, powerful body with deep chest",
        "fore_legs": "straight, heavily boned forelegs",
        "hind_legs": "powerful hindquarters with well-angulated stifles",
        "legs_paws": "large, strong paws with arched toes",
        "tail": "natural or docked tail, carried level in motion",
        "fur": "short, dense, stiff coat",
        "ears": "natural pendant or cropped erect ears",
        "gait": "effortless, powerful gait with strong rear drive",
        "size": "large Italian mastiff",
    },
    "bullmastiff": {
        "skull": "broad, wrinkled skull with short, wide muzzle",
        "body": "massive, powerful, compact body with deep chest",
        "fore_legs": "straight, heavy-boned forelegs",
        "hind_legs": "broad, muscular hindquarters with moderate angulation",
        "legs_paws": "large, strong paws with thick pads",
        "tail": "long tail tapering toward tip",
        "fur": "short, dense coat",
        "ears": "V-shaped pendant ears set high",
        "gait": "free, powerful gait with strong drive",
        "size": "giant guarding breed",
    },
    "neapolitan mastiff": {
        "skull": "massive skull with extreme wrinkles and large muzzle",
        "body": "very large, heavily wrinkled body with immense bone",
        "fore_legs": "straight, thick forelegs",
        "hind_legs": "strong hindquarters with moderate angulation",
        "legs_paws": "huge, round paws with thick pads",
        "tail": "thick tail tapering to tip",
        "fur": "short, dense coat",
        "ears": "natural pendant or cropped ears",
        "gait": "slow, lumbering gait with massive weight",
        "size": "giant molosser",
    },
    "dogo argentino": {
        "skull": "large, broad skull with strong muzzle",
        "body": "powerful, athletic, muscular body with deep chest",
        "fore_legs": "straight, strong forelegs with heavy bone",
        "hind_legs": "broad, powerful hindquarters with strong hocks",
        "legs_paws": "large, compact paws with arched toes",
        "tail": "long tail carried low or level",
        "fur": "short, dense white coat",
        "ears": "natural pendant or cropped",
        "gait": "smooth, strong gait with great drive",
        "size": "large Argentine working dog",
    },
    "belgian malinois": {
        "skull": "clean, moderately broad skull with tapered muzzle",
        "body": "medium-sized, athletic, square body with deep chest",
        "fore_legs": "straight forelegs with moderate bone",
        "hind_legs": "powerful hindquarters with pronounced angulation",
        "legs_paws": "cat-like paws with thick pads",
        "tail": "long tail carried downward or level in motion",
        "fur": "short, dense, weather-resistant coat",
        "ears": "medium, triangular ears carried fully erect",
        "gait": "effortless, fast, powerful gait",
        "size": "medium-large herding/working dog",
    },
    "belgian tervuren": {
        "skull": "clean, refined skull with moderate stop",
        "body": "square, elegant, athletic body",
        "fore_legs": "straight forelegs with moderate bone",
        "hind_legs": "well-angulated hindquarters with muscular thighs",
        "legs_paws": "tight, arched paws with strong pads",
        "tail": "long tail carried low with slight curve",
        "fur": "long, rich double coat with heavy frill",
        "ears": "erect triangular ears",
        "gait": "free, graceful, energetic gait",
        "size": "medium-large Belgian shepherd",
    },
    "belgian sheepdog": {
        "skull": "clean, refined skull with tapered muzzle",
        "body": "square and elegant with deep chest",
        "fore_legs": "straight, well-boned forelegs",
        "hind_legs": "strong, well-angulated hindquarters",
        "legs_paws": "compact paws with arched toes",
        "tail": "long, heavily feathered tail",
        "fur": "long, black double coat with abundant frill",
        "ears": "erect triangular ears",
        "gait": "smooth, effortless gait",
        "size": "medium-large working shepherd",
    },
    "belgian laekenois": {
        "skull": "moderately broad skull with tapered muzzle",
        "body": "square, athletic frame",
        "fore_legs": "straight forelegs with moderate bone",
        "hind_legs": "muscular, well-angulated hind legs",
        "legs_paws": "compact paws with thick pads",
        "tail": "long tail carried low",
        "fur": "harsh, wiry coat with tousled texture",
        "ears": "erect triangular ears",
        "gait": "light, agile gait",
        "size": "medium Belgian shepherd",
    },
    "saluki": {
        "skull": "narrow skull with long, elegant muzzle",
        "body": "slender, deep-chested body with pronounced tuck-up",
        "fore_legs": "long, straight, fine-boned forelegs",
        "hind_legs": "long, muscular hindquarters with moderate angulation",
        "legs_paws": "hare-like feet with long toes and thick pads",
        "tail": "long, curved tail with feathering on underside",
        "fur": "smooth or feathered coat, silky in texture",
        "ears": "long, silky pendant ears",
        "gait": "smooth, almost floating gait with long stride",
        "size": "medium-large sighthound",
    },
    "basenji": {
        "skull": "flat skull with wrinkled forehead and tapered muzzle",
        "body": "small, finely built body with high-set tail",
        "fore_legs": "straight, fine-boned forelegs",
        "hind_legs": "strong, well-angulated hindquarters",
        "legs_paws": "small, compact paws with arched toes",
        "tail": "tightly curled tail carried over the back",
        "fur": "short, fine coat",
        "ears": "small, erect ears set forward",
        "gait": "light, effortless gait",
        "size": "small African hound",
    },
    "pharaoh hound": {
        "skull": "narrow skull with slight stop and long muzzle",
        "body": "slender, athletic body with deep chest",
        "fore_legs": "straight, long forelegs",
        "hind_legs": "muscular hindquarters with good angulation",
        "legs_paws": "strong, well-arched paws",
        "tail": "long, whip-like tail carried low",
        "fur": "short, glossy coat",
        "ears": "large, erect ears",
        "gait": "free, effortless gait with strong drive",
        "size": "medium-large sighthound",
    },
    "thai ridgeback": {
        "skull": "wedge-shaped skull with flat forehead",
        "body": "strong, muscular body with deep chest",
        "fore_legs": "straight, strong forelegs",
        "hind_legs": "well-angulated hindquarters",
        "legs_paws": "cat-like paws with strong nails",
        "tail": "long tail tapering to tip",
        "fur": "short coat with distinctive dorsal ridge",
        "ears": "triangular erect ears",
        "gait": "smooth, agile gait",
        "size": "medium athletic hound",
    },
    "bolognese": {
        "skull": "slightly rounded skull with short, square muzzle",
        "body": "small, compact body",
        "fore_legs": "straight fine-boned forelegs",
        "hind_legs": "moderately angulated hindquarters",
        "legs_paws": "small round paws",
        "tail": "curved tail carried over back",
        "fur": "long, fluffy white coat",
        "ears": "long pendant ears",
        "gait": "soft, flowing gait",
        "size": "toy bichon-type",
    },
    "cotton de tulear": {
        "skull": "slightly rounded skull with fine muzzle",
        "body": "small, slightly longer than tall body",
        "fore_legs": "straight forelegs",
        "hind_legs": "moderate angulation and firm hocks",
        "legs_paws": "small, rounded paws",
        "tail": "plumed tail carried over back",
        "fur": "soft, cotton-like coat",
        "ears": "medium pendant ears",
        "gait": "lively, bouncing gait",
        "size": "small companion dog",
    },
    "papillon": {
        "skull": "small skull with slightly rounded dome and fine muzzle",
        "body": "small, elegant body with level topline",
        "fore_legs": "straight, slender forelegs",
        "hind_legs": "well-angulated hindquarters",
        "legs_paws": "small, fine paws with hare-like toes",
        "tail": "long, plumed tail carried over the back",
        "fur": "long, fine, silky coat with fringed ears",
        "ears": "large butterfly-like ears set high",
        "gait": "light, dainty, energetic gait",
        "size": "toy spaniel",
    },
    "phalen": {
        "skull": "small rounded skull with soft expression",
        "body": "small, fine-boned body",
        "fore_legs": "straight forelegs",
        "hind_legs": "moderately angulated hindquarters",
        "legs_paws": "small paws with arched toes",
        "tail": "curved tail over back",
        "fur": "long, silky coat with moderate feathering",
        "ears": "pendant ears with feathering",
        "gait": "light and elegant gait",
        "size": "toy spaniel",
    },
    "pug": {
        "skull": "large, round skull with very short muzzle",
        "body": "compact, cobby body with broad chest",
        "fore_legs": "straight, moderately boned forelegs",
        "hind_legs": "strong hindquarters with moderate angulation",
        "legs_paws": "small, cat-like paws",
        "tail": "tight double curl tail",
        "fur": "short, smooth coat",
        "ears": "small rose or button ears",
        "gait": "free, strong gait with slight roll",
        "size": "small companion",
    },
    "italian greyhound": {
        "skull": "narrow, delicate skull with fine muzzle",
        "body": "slender, elegant body with deep chest and tucked-up loin",
        "fore_legs": "long, fine-boned forelegs",
        "hind_legs": "long, muscular hind legs with moderate angulation",
        "legs_paws": "small, hare-like paws",
        "tail": "long, thin tail carried low",
        "fur": "short, fine coat",
        "ears": "small, folded rose ears",
        "gait": "light, high-stepping gait",
        "size": "toy sighthound",
    },
    "american eskimo dog": {
        "skull": "wedge-shaped skull with slightly rounded crown and tapered muzzle",
        "body": "compact, well-balanced body with deep chest and level topline",
        "fore_legs": "straight, moderately boned forelegs with sloping shoulders",
        "hind_legs": "moderate angulation in stifle and hock with good muscle",
        "legs_paws": "oval, compact paws with thick pads and arched toes",
        "tail": "heavily plumed tail carried curled over the back",
        "fur": "abundant, stand-off double coat forming a mane around neck",
        "ears": "small, triangular, erect ears set high",
        "gait": "agile, brisk, ground-covering gait",
        "size": "small to medium spitz-type",
    },
    "american hairless terrier": {
        "skull": "moderately broad skull with wedge-shaped muzzle",
        "body": "compact, muscular, slightly longer than tall body",
        "fore_legs": "straight forelegs with moderate bone",
        "hind_legs": "well-angulated hindquarters with firm hocks",
        "legs_paws": "oval paws with well-arched toes",
        "tail": "tapering tail carried straight or slightly curved",
        "fur": "hairless or coated variety; smooth skin or short dense coat",
        "ears": "erect V-shaped ears set high",
        "gait": "smooth, agile gait with good reach",
        "size": "small terrier",
    },
    "american foxhound": {
        "skull": "slightly domed skull with long, square muzzle",
        "body": "tall, lean body with deep chest and long back",
        "fore_legs": "straight, well-boned forelegs",
        "hind_legs": "long, strong hindquarters with well-angled stifles",
        "legs_paws": "strong, slightly oval paws with thick pads",
        "tail": "medium-length tail carried high with slight curve",
        "fur": "short, hard, close-lying coat",
        "ears": "long, pendant ears set low",
        "gait": "effortless, long-striding gait suitable for distance",
        "size": "large American hound",
    },
    "american leopard hound": {
        "skull": "broad skull with well-defined stop and strong muzzle",
        "body": "athletic, muscular body with deep chest",
        "fore_legs": "straight, strong forelegs with good bone",
        "hind_legs": "muscular hind legs with moderate angulation",
        "legs_paws": "slightly oval paws with thick, durable pads",
        "tail": "medium tail carried straight or slightly curved",
        "fur": "short to medium coat with varied merle patterns",
        "ears": "medium-length dropped ears",
        "gait": "ground-covering, agile gait adapted for rough terrain",
        "size": "medium-large American hunting dog",
    },
    "american water spaniel": {
        "skull": "rounded skull with fairly broad muzzle",
        "body": "medium body with strong loin and deep chest",
        "fore_legs": "straight, moderately boned forelegs",
        "hind_legs": "well-angulated hindquarters with muscular thighs",
        "legs_paws": "webbed paws with thick pads",
        "tail": "moderately long tail carried level or slightly curved",
        "fur": "curly or wavy double coat providing water resistance",
        "ears": "long, lobular ears with abundant curls",
        "gait": "energetic, efficient gait",
        "size": "medium water retriever",
    },
    "appenzeller sennenhund": {
        "skull": "flat skull with well-defined stop and strong muzzle",
        "body": "medium, muscular, slightly longer than tall",
        "fore_legs": "straight, powerful forelegs",
        "hind_legs": "well-angulated hindquarters with strong hocks",
        "legs_paws": "rounded, compact paws with thick pads",
        "tail": "high-set tail curled over back",
        "fur": "short, dense double coat",
        "ears": "triangular pendant ears",
        "gait": "energetic, agile gait",
        "size": "medium Swiss mountain dog",
    },
    "azawakh": {
        "skull": "long, narrow skull with slight stop",
        "body": "extremely lean, tall, elegant body with deep chest and extreme tuck-up",
        "fore_legs": "very long, fine-boned forelegs",
        "hind_legs": "long, muscular hind legs with open angulation",
        "legs_paws": "hare-like feet with long toes",
        "tail": "thin tail carried low with slight curve",
        "fur": "short, fine coat",
        "ears": "small, triangular pendant ears",
        "gait": "light, floating gait with exceptional stride",
        "size": "medium-large African sighthound",
    },
    "barbet": {
        "skull": "broad skull with rounded forehead and square muzzle",
        "body": "strong, medium-sized body with deep chest",
        "fore_legs": "straight, well-boned forelegs",
        "hind_legs": "well-angulated hind legs with firm hocks",
        "legs_paws": "large, round paws with thick pads",
        "tail": "long tail carried low with slight upward curve",
        "fur": "dense, curly woolly coat",
        "ears": "long, pendant ears covered with curls",
        "gait": "easy, ground-covering gait",
        "size": "medium French water dog",
    },
    "barbado da terceira": {
        "skull": "rounded skull with moderate stop",
        "body": "compact, sturdy body",
        "fore_legs": "straight forelegs with moderate bone",
        "hind_legs": "muscular hind legs with moderate angulation",
        "legs_paws": "strong, slightly oval paws",
        "tail": "long natural tail with plume",
        "fur": "long, wavy or curly coat",
        "ears": "medium pendant ears",
        "gait": "energetic, agile movement",
        "size": "medium Portuguese herding dog",
    },
    "basset bleu de gascogne": {
        "skull": "slightly domed skull with long muzzle",
        "body": "long, low body with deep chest",
        "fore_legs": "short, strong forelegs with outward curve",
        "hind_legs": "short but strong hindquarters with moderate angulation",
        "legs_paws": "large paws with thick pads",
        "tail": "long tail carried high in sabre curve",
        "fur": "short, dense mottled blue coat",
        "ears": "long, fine pendant ears",
        "gait": "steady, ground-covering gait",
        "size": "medium French scent hound",
    },
    "basset fauve de bretagne": {
        "skull": "moderately broad skull with strong muzzle",
        "body": "long, low body with muscular build",
        "fore_legs": "short, sturdy forelegs",
        "hind_legs": "moderately angulated hindquarters",
        "legs_paws": "compact round paws",
        "tail": "medium-length tail carried high",
        "fur": "rough, harsh coat with brighter fawn tones",
        "ears": "low-set pendant ears",
        "gait": "nimble, lively gait",
        "size": "small French hound",
    },
    "bavarian mountain hound": {
        "skull": "moderate skull with defined stop and strong muzzle",
        "body": "medium, well-muscled body with level topline",
        "fore_legs": "straight forelegs with strong bone",
        "hind_legs": "broad, powerful hindquarters with strong hocks",
        "legs_paws": "well-padded, oval paws",
        "tail": "medium-length tail carried low",
        "fur": "short, dense, harsh coat",
        "ears": "long, pendant ears",
        "gait": "smooth, endurance-focused gait",
        "size": "medium German tracking hound",
    },
    "black and tan coonhound": {
        "skull": "broad skull with pronounced stop and long muzzle",
        "body": "strong, well-boned body with deep chest",
        "fore_legs": "straight, sturdy forelegs",
        "hind_legs": "strong hindquarters with good angulation",
        "legs_paws": "large, well-padded paws",
        "tail": "long tail carried high in motion",
        "fur": "short, dense, glossy coat",
        "ears": "extremely long pendant ears",
        "gait": "powerful, effortless gait",
        "size": "large American scent hound",
    },
    "black russian terrier": {
        "skull": "broad, blocky head with strong muzzle",
        "body": "massive, powerful body with deep chest",
        "fore_legs": "straight, heavy-boned forelegs",
        "hind_legs": "very powerful hind legs with good angulation",
        "legs_paws": "large, round paws with thick pads",
        "tail": "natural or docked tail carried high",
        "fur": "dense, coarse black coat with beard and eyebrows",
        "ears": "medium, triangular pendant ears",
        "gait": "strong, working gait with firm topline",
        "size": "large Russian working dog",
    },
    "bloodhound": {
        "skull": "massive, deeply wrinkled skull with long, heavy muzzle",
        "body": "large, heavy-boned, deep-chested body",
        "fore_legs": "straight but slightly turned-out forelegs",
        "hind_legs": "broad hindquarters with moderate angulation",
        "legs_paws": "large, well-padded paws with long toes",
        "tail": "long tail carried high but not curled",
        "fur": "short, dense coat",
        "ears": "extremely long, thin pendant ears",
        "gait": "slow, powerful trot with good endurance",
        "size": "large scent hound",
    },
    "boerboel": {
        "skull": "broad skull with strong, square muzzle",
        "body": "large, muscular, powerful body with deep chest",
        "fore_legs": "straight, heavily boned forelegs",
        "hind_legs": "very powerful hind legs with pronounced angulation",
        "legs_paws": "large, rounded paws with thick pads",
        "tail": "long or docked tail carried level",
        "fur": "short, dense coat",
        "ears": "medium pendant ears",
        "gait": "strong, confident gait",
        "size": "giant South African mastiff",
    },
    "borzoi": {
        "skull": "long, narrow skull with slight stop",
        "body": "tall, elegant, deep-chested with narrow waist",
        "fore_legs": "long, straight forelegs",
        "hind_legs": "long, muscular hindquarters with moderate angulation",
        "legs_paws": "hare-like feet with long toes",
        "tail": "long, gracefully curved tail with flowing hair",
        "fur": "long, silky, wavy coat",
        "ears": "small rose ears carried back",
        "gait": "effortless, floating gait",
        "size": "large Russian sighthound",
    },
    "bull terrier": {
        "skull": "distinctive egg-shaped head with convex profile and strong jaws",
        "body": "muscular, rounded body with deep chest",
        "fore_legs": "straight, strong forelegs with heavy bone",
        "hind_legs": "muscular hindquarters with moderate angulation",
        "legs_paws": "round paws with thick pads",
        "tail": "short tail carried horizontally",
        "fur": "short, flat, harsh coat",
        "ears": "small, erect triangular ears",
        "gait": "powerful, controlled gait",
        "size": "medium bull-type terrier",
    },
    "catalan sheepdog": {
        "skull": "slightly domed skull with moderate stop",
        "body": "medium, well-muscled herding body",
        "fore_legs": "straight forelegs with moderate bone",
        "hind_legs": "well-angulated hind legs with strong hocks",
        "legs_paws": "oval paws with thick pads",
        "tail": "long natural tail with plume",
        "fur": "long, shaggy, slightly wavy coat",
        "ears": "medium pendant ears",
        "gait": "agile, active gait",
        "size": "medium Catalonian herder",
    },
    "caucasian shepherd dog": {
        "skull": "massive skull with powerful muzzle",
        "body": "huge, heavily built body with deep chest",
        "fore_legs": "straight, colossal forelegs with thick bone",
        "hind_legs": "powerful hindquarters with heavy muscling and moderate angulation",
        "legs_paws": "very large paws with strong nails",
        "tail": "long, heavily furred tail carried high",
        "fur": "extremely dense double coat of varying lengths",
        "ears": "medium pendant or cropped",
        "gait": "slow, deliberate, powerful gait",
        "size": "giant Caucasian guardian",
    },
    "cirneco dell'etna": {
        "skull": "narrow skull with refined muzzle",
        "body": "slender, square body with tucked-up loin",
        "fore_legs": "straight, fine-boned forelegs",
        "hind_legs": "well-angulated hindquarters",
        "legs_paws": "hare-like feet",
        "tail": "long whip-like tail",
        "fur": "short, sleek coat",
        "ears": "large, erect triangular ears",
        "gait": "light, fast gait",
        "size": "small Italian sighthound",
    },
    "clumber spaniel": {
        "skull": "large, heavy skull with deep stop and powerful muzzle",
        "body": "low, long, massive body with deep chest",
        "fore_legs": "straight, heavy-boned forelegs",
        "hind_legs": "strong hindquarters with moderate angulation",
        "legs_paws": "large, round paws with deep pads",
        "tail": "medium tail carried horizontally",
        "fur": "dense, straight coat with slight feathering",
        "ears": "large pendant ears",
        "gait": "rolling but powerful gait",
        "size": "large spaniel",
    },
    "coton de tulear": {
        "skull": "slightly rounded skull with fine muzzle",
        "body": "small, slightly longer than tall",
        "fore_legs": "straight fine-boned forelegs",
        "hind_legs": "moderate angulation",
        "legs_paws": "small rounded paws",
        "tail": "curled tail over back",
        "fur": "soft, cotton-like coat",
        "ears": "medium pendant ears",
        "gait": "light, playful gait",
        "size": "small companion",
    },
    "curly-coated retriever": {
        "skull": "long, wedge-shaped skull with defined stop",
        "body": "strong, athletic, slightly longer than tall",
        "fore_legs": "straight forelegs with good bone",
        "hind_legs": "strong hindquarters with moderate angulation",
        "legs_paws": "round, compact paws",
        "tail": "straight tail carried level",
        "fur": "unique tight crisp curls over entire body",
        "ears": "small pendant ears",
        "gait": "effortless, powerful gait",
        "size": "large retriever",
    },
    "chesapeake bay retriever": {
        "skull": "broad skull with medium stop and strong jaws",
        "body": "powerful, athletic body with deep chest",
        "fore_legs": "straight, heavily boned forelegs",
        "hind_legs": "strong hindquarters with moderate angulation and firm hocks",
        "legs_paws": "large, webbed paws ideal for swimming",
        "tail": "medium-length tail carried straight",
        "fur": "harsh, oily, water-resistant double coat with wavy texture",
        "ears": "small pendant ears",
        "gait": "strong, effortless gait",
        "size": "large water retriever",
    },
    "drentsche patrijshond": {
        "skull": "broad skull with gentle stop",
        "body": "medium, balanced hunting body",
        "fore_legs": "straight forelegs",
        "hind_legs": "moderate angulation and firm hocks",
        "legs_paws": "well-padded oval paws",
        "tail": "long feathered tail",
        "fur": "medium-length, slightly wavy coat",
        "ears": "long pendant ears",
        "gait": "smooth, purposeful gait",
        "size": "medium Dutch gun dog",
    },
    "entlebucher mountain dog": {
        "skull": "flat skull with strong muzzle",
        "body": "compact, muscular, slightly rectangular body",
        "fore_legs": "straight forelegs with heavy bone",
        "hind_legs": "powerful hindquarters with good angulation",
        "legs_paws": "round, compact paws",
        "tail": "long or bobtail, carried level",
        "fur": "short, dense tri-colored coat",
        "ears": "medium pendant ears",
        "gait": "energetic, agile gait",
        "size": "medium Swiss mountain dog",
    },
    "eurasier": {
        "skull": "broad skull with tapered muzzle",
        "body": "balanced, medium-sized spitz body",
        "fore_legs": "straight, moderately boned forelegs",
        "hind_legs": "well-angulated hind legs",
        "legs_paws": "compact, oval paws",
        "tail": "plumed tail curled over back",
        "fur": "dense, thick double coat",
        "ears": "triangular erect ears",
        "gait": "balanced, smooth gait",
        "size": "medium spitz breed",
    },
    "field spaniel": {
        "skull": "long skull with moderate stop",
        "body": "slightly longer than tall with deep chest",
        "fore_legs": "straight forelegs",
        "hind_legs": "good angulation and muscular thighs",
        "legs_paws": "compact, well-padded feet",
        "tail": "feathered tail carried level",
        "fur": "medium-length, glossy coat",
        "ears": "long, low-set ears",
        "gait": "free, balanced gait",
        "size": "medium spaniel",
    },
    "finnish lapphund": {
        "skull": "broad skull with defined stop",
        "body": "sturdy, compact body adapted for cold",
        "fore_legs": "straight forelegs with moderate bone",
        "hind_legs": "well-angulated and powerful hindquarters",
        "legs_paws": "oval paws with thick pads",
        "tail": "plumed tail carried curled or straight",
        "fur": "thick double coat with profuse mane",
        "ears": "medium erect ears",
        "gait": "agile, energetic gait",
        "size": "medium herding spitz",
    },
    "finnish spitz": {
        "skull": "slightly rounded skull with pointed muzzle",
        "body": "square, compact body",
        "fore_legs": "straight forelegs with fine bone",
        "hind_legs": "well-angulated hindquarters",
        "legs_paws": "round paws with arched toes",
        "tail": "curled tail over back",
        "fur": "dense red-gold double coat",
        "ears": "small erect triangular ears",
        "gait": "quick, light trot",
        "size": "small hunting spitz",
    },
    "glen of imaal terrier": {
        "skull": "broad skull with strong muzzle and pronounced stop",
        "body": "long, low, powerful terrier body with deep chest",
        "fore_legs": "short, strong forelegs with slight outward turn",
        "hind_legs": "well-muscled hindquarters with moderate angulation",
        "legs_paws": "round, strong paws with thick pads",
        "tail": "natural or docked, carried level",
        "fur": "medium harsh coat with soft undercoat",
        "ears": "rose or half-pricked ears",
        "gait": "free, ground-covering gait with strong rear drive",
        "size": "small Irish terrier",
    },
    "hamiltonstovare": {
        "skull": "slightly domed skull with tapering muzzle",
        "body": "well-proportioned, athletic scent hound body",
        "fore_legs": "straight forelegs with strong bone",
        "hind_legs": "well-angulated hind legs with strong thigh muscles",
        "legs_paws": "oval paws with thick pads",
        "tail": "medium tail carried straight",
        "fur": "short, dense tricolor coat",
        "ears": "medium, pendant ears",
        "gait": "smooth, effortless movement",
        "size": "medium Swedish hound",
    },
    "harrier": {
        "skull": "broad skull with strong muzzle and kind expression",
        "body": "athletic, medium body with deep chest",
        "fore_legs": "straight, sturdy forelegs",
        "hind_legs": "strong hindquarters with good angulation",
        "legs_paws": "round, compact paws",
        "tail": "long tail carried high",
        "fur": "short, dense coat",
        "ears": "medium pendant ears",
        "gait": "endurance-driven gait with reach and drive",
        "size": "medium English hound",
    },
    "hokkaido": {
        "skull": "broad skull with tapered muzzle",
        "body": "compact, muscular spitz body",
        "fore_legs": "straight forelegs with moderate bone",
        "hind_legs": "well-developed hindquarters with firm hocks",
        "legs_paws": "thick, cat-like paws",
        "tail": "curled or sickle tail over back",
        "fur": "dense double coat suited for cold climates",
        "ears": "erect triangular ears",
        "gait": "light, resilient gait",
        "size": "medium Japanese spitz",
    },
    "hovawart": {
        "skull": "broad skull with well-defined stop",
        "body": "strong, slightly longer than tall working body",
        "fore_legs": "straight forelegs with moderate bone",
        "hind_legs": "powerful hind legs with good angulation",
        "legs_paws": "tight, rounded paws",
        "tail": "long tail carried high in motion",
        "fur": "long, slightly wavy double coat",
        "ears": "medium pendant ears",
        "gait": "balanced, powerful gait",
        "size": "large German working breed",
    },
    "icelandic sheepdog": {
        "skull": "slightly domed skull with tapered muzzle",
        "body": "compact, rectangular body",
        "fore_legs": "straight forelegs with moderate bone",
        "hind_legs": "well-angulated hindquarters",
        "legs_paws": "oval paws with thick pads",
        "tail": "curled tail carried over the back",
        "fur": "thick, weather-resistant double coat",
        "ears": "erect, expressive ears",
        "gait": "light, agile movement",
        "size": "small Nordic herder",
    },
    "irish red and white setter": {
        "skull": "broad skull with square muzzle",
        "body": "athletic, well-balanced body with level topline",
        "fore_legs": "straight, strong forelegs",
        "hind_legs": "well-bent stifles with long thigh",
        "legs_paws": "strong, well-padded paws",
        "tail": "feathered tail carried level",
        "fur": "long silky white coat with red patches",
        "ears": "long pendant ears",
        "gait": "long, ground-covering stride",
        "size": "large Irish gundog",
    },
    "jagdterrier": {
        "skull": "strong, elongated skull with pronounced stop",
        "body": "compact, sturdy working terrier body",
        "fore_legs": "straight, strong forelegs",
        "hind_legs": "muscular hindquarters with pronounced angulation",
        "legs_paws": "small, powerful paws",
        "tail": "short or docked tail carried high",
        "fur": "rough or smooth dense coat",
        "ears": "small V-shaped ears",
        "gait": "energetic, determined gait",
        "size": "small German hunting terrier",
    },
    "japanese chin": {
        "skull": "broad, rounded skull with short muzzle",
        "body": "fine-boned, square companion body",
        "fore_legs": "straight slender forelegs",
        "hind_legs": "moderate angulation with fine bone",
        "legs_paws": "small hare-like paws",
        "tail": "arched tail carried over the back",
        "fur": "long, flowing silky coat",
        "ears": "feathered pendant ears",
        "gait": "light, dainty gait",
        "size": "toy Japanese companion",
    },
    "japanese spitz": {
        "skull": "wedge-shaped skull with tapered muzzle",
        "body": "compact, square body",
        "fore_legs": "straight slender forelegs",
        "hind_legs": "well-angulated hindquarters",
        "legs_paws": "small round paws",
        "tail": "plumed tail carried over back",
        "fur": "long, fluffy white double coat",
        "ears": "small triangular erect ears",
        "gait": "free, active gait",
        "size": "small spitz",
    },
    "kai ken": {
        "skull": "broad skull with tapered muzzle",
        "body": "muscular, agile mountain dog body",
        "fore_legs": "straight forelegs with moderate bone",
        "hind_legs": "well-angulated hind legs",
        "legs_paws": "strong, compact paws",
        "tail": "curled sickle tail",
        "fur": "brindle double coat",
        "ears": "medium erect ears",
        "gait": "agile, light-footed gait",
        "size": "medium Japanese spitz-type",
    },
    "karelian bear dog": {
        "skull": "broad skull with strong muzzle",
        "body": "robust, muscular body",
        "fore_legs": "straight, powerful forelegs",
        "hind_legs": "strong hindquarters with pronounced angulation",
        "legs_paws": "large, strong paws for traction",
        "tail": "curled tail carried over back",
        "fur": "dense black-and-white double coat",
        "ears": "erect triangular ears",
        "gait": "steady, resilient gait",
        "size": "medium Finnish hunting dog",
    },
    "kooikerhondje": {
        "skull": "moderate skull with gentle stop",
        "body": "slightly longer than tall, athletic",
        "fore_legs": "straight forelegs with fine bone",
        "hind_legs": "well-angulated hindquarters",
        "legs_paws": "oval paws with arched toes",
        "tail": "long tail with white tip",
        "fur": "medium silky coat with ear feathering",
        "ears": "pendant ears with black tips",
        "gait": "lively, energetic gait",
        "size": "small Dutch decoy dog",
    },
    "kromfohrlander": {
        "skull": "rounded skull with defined stop",
        "body": "medium, balanced body",
        "fore_legs": "straight forelegs",
        "hind_legs": "moderate angulation",
        "legs_paws": "oval paws",
        "tail": "natural or bobtail",
        "fur": "smooth or rough coat varieties",
        "ears": "medium pendant ears",
        "gait": "smooth, springy gait",
        "size": "small companion breed",
    },
    "lagotto romagnolo": {
        "skull": "broad skull with pronounced stop",
        "body": "compact, square truffle-hunter body",
        "fore_legs": "straight forelegs with strong bone",
        "hind_legs": "well-muscled with moderate angulation",
        "legs_paws": "rounded paws with thick pads",
        "tail": "medium tail carried straight",
        "fur": "dense curly waterproof coat",
        "ears": "medium pendant ears",
        "gait": "agile, efficient gait",
        "size": "medium Italian working dog",
    },
    "leonberger": {
        "skull": "broad skull with gentle stop and black mask",
        "body": "massive, powerful, well-balanced giant body",
        "fore_legs": "straight, very strong forelegs",
        "hind_legs": "powerful, well-angulated hindquarters with broad thighs",
        "legs_paws": "huge, well-padded paws",
        "tail": "long, heavily plumed tail",
        "fur": "dense, water-resistant double coat",
        "ears": "medium pendant ears",
        "gait": "ground-covering, powerful gait",
        "size": "giant working breed",
    },
    "lhasa apso": {
        "skull": "narrow skull with medium stop",
        "body": "small, long body with level back",
        "fore_legs": "straight forelegs with moderate bone",
        "hind_legs": "moderate angulation",
        "legs_paws": "small cat-like paws",
        "tail": "plumed tail carried over back",
        "fur": "long, heavy, straight coat",
        "ears": "pendant ears with long feathering",
        "gait": "free but dignified movement",
        "size": "small Tibetan companion",
    },
    "lowchen": {
        "skull": "short broad skull with moderate stop",
        "body": "small, compact body",
        "fore_legs": "straight slender forelegs",
        "hind_legs": "well-angulated hindquarters",
        "legs_paws": "small round paws",
        "tail": "plumed tail carried over back",
        "fur": "long soft coat, often clipped lion-style",
        "ears": "pendant ears",
        "gait": "light, lively gait",
        "size": "small toy companion",
    },
    "majestic tree hound": {
        "skull": "broad skull with long, heavy muzzle",
        "body": "large, muscular scent hound body",
        "fore_legs": "straight strong forelegs",
        "hind_legs": "powerful hindquarters with moderate angulation",
        "legs_paws": "large, oval paws",
        "tail": "long tail carried level",
        "fur": "short dense coat",
        "ears": "long pendant ears",
        "gait": "steady, powerful gait",
        "size": "giant American scent hound",
    },
    "mastiff": {
        "skull": "massive, broad skull with deep muzzle",
        "body": "huge, extremely muscular body with deep chest",
        "fore_legs": "straight colossal forelegs with heavy bone",
        "hind_legs": "broad, powerful hindquarters with moderate angulation",
        "legs_paws": "large round paws",
        "tail": "long heavy tail",
        "fur": "short dense coat",
        "ears": "small pendant ears",
        "gait": "slow but powerful gait",
        "size": "giant English guardian",
    },
    "mudi": {
        "skull": "wedge-shaped skull with fine muzzle",
        "body": "light, athletic body with deep chest",
        "fore_legs": "straight forelegs with fine bone",
        "hind_legs": "well-angulated hindquarters",
        "legs_paws": "oval paws",
        "tail": "natural or bobtail",
        "fur": "wavy or curly medium coat",
        "ears": "erect pointed ears",
        "gait": "quick gait with sharp turns",
        "size": "medium Hungarian herder",
    },
    "newfoundland": {
        "skull": "broad skull with well-developed muzzle",
        "body": "massive, powerful, deep-bodied swimmer build",
        "fore_legs": "straight, heavy-boned forelegs",
        "hind_legs": "broad, powerful hindquarters with strong angulation",
        "legs_paws": "large webbed paws",
        "tail": "broad tail used as rudder",
        "fur": "thick, oily, water-resistant double coat",
        "ears": "small pendant ears",
        "gait": "slow but strong and sure gait",
        "size": "giant water rescue dog",
    },
    "norwegian buhund": {
        "skull": "slightly domed skull with tapered muzzle",
        "body": "compact spitz body",
        "fore_legs": "straight forelegs with fine bone",
        "hind_legs": "moderately angulated hindquarters",
        "legs_paws": "small oval paws",
        "tail": "tightly curled tail over back",
        "fur": "medium harsh double coat",
        "ears": "erect triangular ears",
        "gait": "quick, agile gait",
        "size": "medium Nordic herder",
    },
    "norwegian lundehund": {
        "skull": "wedge skull with flexible joints",
        "body": "small, agile body",
        "fore_legs": "extra-flexible forelegs with additional toes",
        "hind_legs": "moderate angulation with unique mobility",
        "legs_paws": "six-toed paws with extra pads",
        "tail": "curled tail",
        "fur": "short to medium harsh coat",
        "ears": "erect, extremely flexible ears",
        "gait": "light, nimble movement",
        "size": "small Norwegian puffin dog",
    },
    "otterhound": {
        "skull": "large skull with long, strong muzzle",
        "body": "rugged, substantial body with deep chest",
        "fore_legs": "straight, strong forelegs",
        "hind_legs": "powerful, well-angulated hindquarters",
        "legs_paws": "large webbed paws",
        "tail": "long, strong tail carried high",
        "fur": "rough, dense waterproof double coat",
        "ears": "extremely long pendant ears",
        "gait": "steady, powerful gait",
        "size": "large British water hound",
    },

    "new guinea singing dog": {
        "skull": "wedge-shaped skull with relatively broad forehead and tapered muzzle",
        "body": "small, lithe, highly flexible body with deep but narrow chest and extreme agility",
        "fore_legs": "straight, fine-boned forelegs with strong tendons and slightly sloping pasterns",
        "hind_legs": "well-muscled hindquarters with moderate angulation and very mobile joints",
        "legs_paws": "compact, cat-like paws with well-arched toes and thick pads for rough terrain",
        "tail": "medium-length, bushy tail carried in a sickle curve or loose curl over the back",
        "fur": "short to medium-length weather-resistant coat, typically rich red or tan with lighter undersides",
        "ears": "medium, sharply pointed erect ears with extreme mobility and independent rotation",
        "gait": "light, elastic, cat-like gait with silent, precise foot placement and sudden bursts of speed",
        "size": "small primitive wild-type dog from New Guinea highlands",
    },
    "carolina dog": {
        "skull": "moderately broad, wedge-shaped skull with slight stop and tapered muzzle",
        "body": "medium, lean, athletic body with deep chest and pronounced tuck-up",
        "fore_legs": "straight, moderately boned forelegs with slightly sloping shoulders",
        "hind_legs": "strong hindquarters with moderate angulation and firm parallel hocks",
        "legs_paws": "oval, compact paws with tough pads suitable for varied terrain",
        "tail": "moderately long, sickle-shaped tail carried in gentle curve or hooked tip",
        "fur": "short to medium, close-fitting coat with seasonal undercoat; typically tan or ginger",
        "ears": "large, erect, triangular ears set high and rotating to track sounds",
        "gait": "efficient, ground-covering gait with easy trot suited to endurance in feral environments",
        "size": "medium primitive pariah-type dog native to the American Southeast",
    },
    "canaan dog": {
        "skull": "moderately wedge-shaped skull with defined stop and tapered muzzle",
        "body": "medium, square to slightly longer-than-tall body with deep chest and firm topline",
        "fore_legs": "straight forelegs with moderate bone and tight elbows",
        "hind_legs": "well-angulated hindquarters with muscular thighs and firm hocks",
        "legs_paws": "strong, compact, cat-like paws with thick pads adapted to rocky desert terrain",
        "tail": "high-set, bushy tail carried curled over the back when alert and dropped at rest",
        "fur": "harsh, straight outer coat with dense undercoat, adapted to desert climate",
        "ears": "medium, erect, slightly rounded triangular ears set high and open forward",
        "gait": "free, light, tireless gait with quick directional changes suited for watch and herd work",
        "size": "medium primitive herding and watchdog of Middle Eastern deserts",
    },
    "indian pariah dog": {
        "skull": "clean, wedge-shaped skull with moderate stop and relatively long muzzle",
        "body": "medium, lightly built but strong body with deep chest and obvious tuck-up",
        "fore_legs": "straight, moderately boned forelegs with slightly sloping shoulders",
        "hind_legs": "well-developed hindquarters with moderate angulation and firm hocks",
        "legs_paws": "compact, oval paws with thick pads for hot, hard ground",
        "tail": "medium to long tail, usually sickle-shaped or gently curled over back",
        "fur": "short, harsh, close-fitting coat with minimal grooming requirements",
        "ears": "medium to large, erect, triangular ears with good mobility",
        "gait": "free, economical, ground-covering gait suitable for long-distance scavenging and patrol",
        "size": "medium landrace village dog native to the Indian subcontinent",
    },
    "mongolian bankhar": {
        "skull": "broad, massive skull with pronounced zygomatic arches and strong muzzle",
        "body": "large, heavily boned but athletic body with deep barrel chest and strong back",
        "fore_legs": "straight, very strong forelegs with heavy bone and slightly sloping pasterns",
        "hind_legs": "powerful hindquarters with moderate angulation and thick, robust hocks",
        "legs_paws": "very large, well-arched paws with thick pads to withstand ice and rock",
        "tail": "long, plume-like tail carried in a loose curl or ring over the back when alert",
        "fur": "very dense double coat with thick undercoat and coarse outer hair, often forming mane",
        "ears": "medium, thick, pendant ears set low and close to head to protect from cold",
        "gait": "steady, powerful, ground-covering gait suited to patrolling vast steppe and mountain areas",
        "size": "large indigenous livestock guardian from the Mongolian plateau",
    },
    "sakhalin husky": {
        "skull": "broad skull with slight dome and strong, moderately long muzzle",
        "body": "large, robust sled-dog body with deep chest and long ribcage",
        "fore_legs": "straight, heavily boned forelegs with powerful shoulders",
        "hind_legs": "muscular hindquarters with good angulation and strong hocks",
        "legs_paws": "large, snowshoe-like paws with thick pads and dense fur between toes",
        "tail": "long, heavily furred tail carried over back or to side in plume",
        "fur": "very dense double coat with thick oily undercoat for extreme cold and wind",
        "ears": "medium, triangular, erect ears with rounded tips to reduce frostbite",
        "gait": "strong, tireless, moderate-speed gait suited for heavy freight pulling on snow and ice",
        "size": "large, rare sled dog from Sakhalin Island",
    },
    "east siberian laika": {
        "skull": "broad skull with tapered muzzle and moderate stop",
        "body": "medium to large, rugged, slightly rectangular body with deep chest",
        "fore_legs": "straight, well-boned forelegs with strong pasterns",
        "hind_legs": "powerful hindquarters with pronounced angulation and strong muscles",
        "legs_paws": "oval, compact paws with thick pads and fur between toes",
        "tail": "high-set, bushy tail carried in a tight or open curl over the back",
        "fur": "dense double coat with harsh outer hair and thick insulating undercoat",
        "ears": "medium, upright triangular ears set high and well apart",
        "gait": "free, enduring trot with quick acceleration bursts suited for hunting in taiga",
        "size": "medium to large Russian hunting spitz from eastern Siberia",
    },
    "west siberian laika": {
        "skull": "dry, wedge-shaped skull with slight dome and well-defined stop",
        "body": "medium, athletic, strongly built body with deep chest and firm topline",
        "fore_legs": "straight, long forelegs with moderate bone and strong tendons",
        "hind_legs": "well-angulated, muscular hindquarters with long thighs and strong hocks",
        "legs_paws": "compact, oval paws with thick pads and dense fur",
        "tail": "bushy tail carried in a sickle or ring over the back",
        "fur": "thick, weather-resistant double coat adapted to cold forests",
        "ears": "medium, triangular erect ears with sharp tips",
        "gait": "quick, resilient gait with high stamina for independent hunting",
        "size": "medium versatile hunting spitz from western Siberia",
    },
    "norwegian elkhound black": {
        "skull": "broad skull with slightly arched forehead and defined stop",
        "body": "compact, square, powerful body with deep chest and short loin",
        "fore_legs": "straight, strong forelegs with substantial bone",
        "hind_legs": "well-angulated hindquarters with broad thighs and strong hocks",
        "legs_paws": "round, tight paws with thick pads for rocky terrain",
        "tail": "high-set, tightly curled tail carried over center of back",
        "fur": "dense black double coat with harsh outer hair and woolly undercoat",
        "ears": "medium, erect, sharply pointed ears",
        "gait": "free, energetic trot with good reach and drive suited for hunting elk",
        "size": "medium Nordic hunting spitz",
    },
    "castro laboreiro dog": {
        "skull": "broad, slightly convex skull with strong, slightly tapered muzzle",
        "body": "large, rectangular, powerful body with deep chest and strong back",
        "fore_legs": "straight, heavily boned forelegs with strong pasterns",
        "hind_legs": "powerful hindquarters with moderate angulation and robust hocks",
        "legs_paws": "large, compact, well-padded paws suited for mountainous terrain",
        "tail": "medium to long tail carried in sabre curve, never tightly curled",
        "fur": "short to medium, dense coat often in wolf-gray or brindled shades",
        "ears": "medium, triangular pendant ears carried close to the head",
        "gait": "strong, purposeful gait with steady, ground-covering strides",
        "size": "large Portuguese livestock guardian and property watchdog",
    },
    "xoloitzcuintli standard": {
        "skull": "broad, slightly domed skull with moderate stop and long, elegant muzzle",
        "body": "medium to large, lean, well-muscled body with deep chest and graceful lines",
        "fore_legs": "straight, long forelegs with fine to moderate bone and strong pasterns",
        "hind_legs": "well-angulated, muscular hindquarters with long upper thighs",
        "legs_paws": "hare-like feet with long toes and elastic pads",
        "tail": "long, slender, whip-like tail carried low or in gentle curve",
        "fur": "mostly hairless with smooth, warm skin; some coated individuals with short, tight fur",
        "ears": "large, upright, bat-like ears with thin leather and high mobility",
        "gait": "balanced, elastic, cat-like gait with long, fluid stride",
        "size": "medium to large ancient hairless breed from Mexico",
    },
    "xoloitzcuintli miniature": {
        "skull": "lighter, proportionally broad skull with slender muzzle",
        "body": "small, elegant but sturdy body with deep chest and tucked-up abdomen",
        "fore_legs": "straight, fine-boned forelegs with flexible pasterns",
        "hind_legs": "well-angulated hindquarters with good muscle for size",
        "legs_paws": "small, hare-like feet with long toes and flexible joints",
        "tail": "fine, tapering tail carried low or curved",
        "fur": "hairless variety with smooth skin; occasional sparse hair on head or tail",
        "ears": "large, erect ears relative to head size",
        "gait": "lively, elastic movement with light-footed steps",
        "size": "small ancient hairless Mexican companion",
    },
    "peruvian inca orchid": {
        "skull": "elongated, elegant skull with narrow muzzle and slight stop",
        "body": "slender, graceful body with deep chest and extreme tuck-up",
        "fore_legs": "straight, fine-boned forelegs with long pasterns",
        "hind_legs": "well-angulated, long hind legs with strong upper thighs",
        "legs_paws": "hare-like feet with long toes and elastic pads",
        "tail": "long, tapering tail carried low or slightly curved",
        "fur": "predominantly hairless with smooth skin; coated variety has short, fine fur",
        "ears": "medium to large erect ears set high and carried alertly",
        "gait": "light, flowing, ground-covering gait with good reach and drive",
        "size": "small to large ancient Peruvian sighthound-type companion",
    },
    "thai bangkaew dog": {
        "skull": "broad skull with slightly domed crown and tapered muzzle",
        "body": "medium, compact, square body with deep chest and well-sprung ribs",
        "fore_legs": "straight, moderately boned forelegs with strong pasterns",
        "hind_legs": "well-angulated hindquarters with muscular thighs and firm hocks",
        "legs_paws": "oval, compact paws with arched toes and thick pads",
        "tail": "high-set, bushy tail carried in plume over back",
        "fur": "double coat with harsh, stand-off outer hair and dense undercoat forming ruff and britches",
        "ears": "medium, triangular, erect ears set high and slightly forward",
        "gait": "lively, agile gait with quick acceleration and good stamina",
        "size": "medium spitz-type watchdog from Thailand",
    },
    "kintamani-bali dog": {
        "skull": "moderately broad skull with defined stop and straight muzzle",
        "body": "medium, well-balanced, lightly built body with deep chest",
        "fore_legs": "straight forelegs with moderate bone and tight elbows",
        "hind_legs": "well-angulated hindquarters with strong muscles and firm hocks",
        "legs_paws": "oval paws with firm pads adapted to volcanic terrain",
        "tail": "long, plumed tail carried curled or sickled over the back",
        "fur": "medium-length double coat, often white with patches or cream tones",
        "ears": "medium, upright ears with slightly rounded tips",
        "gait": "free, smooth gait with alert carriage",
        "size": "medium spitz-type mountain dog from Bali",
    },
    "african village dog": {
        "skull": "moderately narrow skull with slight stop and medium-length muzzle",
        "body": "light-framed, athletic, resilient body with deep but narrow chest",
        "fore_legs": "straight, fine to moderate boned forelegs",
        "hind_legs": "well-muscled hindquarters with moderate angulation",
        "legs_paws": "oval paws with tough pads adapted for heat and rough ground",
        "tail": "medium-length tail carried in sickle or open curve",
        "fur": "short, harsh coat with minimal undercoat, varied colors and markings",
        "ears": "erect or semi-erect triangular ears with high mobility",
        "gait": "efficient, ground-covering trot optimized for endurance and scavenging",
        "size": "medium generalized landrace dog across Sub-Saharan Africa",
    },
    "arabian wadi dog": {
        "skull": "slender, elongated skull with narrow muzzle and shallow stop",
        "body": "lean, narrow, lightly muscled body with deep chest and high tuck-up",
        "fore_legs": "straight, fine-boned forelegs with long pasterns",
        "hind_legs": "long, moderately angulated hind legs built for speed and agility",
        "legs_paws": "small, hare-like paws with tough, heat-resistant pads",
        "tail": "long, whip-like tail carried low or slightly curved",
        "fur": "short, sparse coat adapted to arid desert conditions",
        "ears": "medium, erect or semi-erect ears to dissipate heat and capture sound",
        "gait": "light, floating gait with rapid acceleration suited for desert chases",
        "size": "small to medium desert landrace from Arabian Peninsula wadis",
    },
    "greenland dog": {
        "skull": "broad, slightly arched skull with strong, blunt muzzle",
        "body": "large, powerful, rectangular sled-dog body with deep chest",
        "fore_legs": "straight, very strong forelegs with huge bone",
        "hind_legs": "broad, muscular hindquarters with moderate angulation",
        "legs_paws": "large, round, compact paws with thick fur and pads for ice and snow",
        "tail": "thick, bushy tail carried curled over the back",
        "fur": "very dense double coat with coarse outer hair and heavy undercoat",
        "ears": "small, triangular, erect ears with thick leather",
        "gait": "strong, enduring trot with great pulling power",
        "size": "large Arctic sled dog from Greenland",
    },
    "canadian eskimo dog": {
        "skull": "broad, wedge-shaped skull with slight dome and strong muzzle",
        "body": "large, powerful, compact sled-dog body with deep chest and thick neck",
        "fore_legs": "straight, heavily muscled forelegs with massive bone",
        "hind_legs": "very strong hindquarters with moderate angulation and heavy musculature",
        "legs_paws": "large, well-furred, rounded paws with thick pads resistant to ice",
        "tail": "heavily furred tail carried in curl or arch over the back",
        "fur": "extremely dense double coat with thick wool undercoat and stiff guard hairs",
        "ears": "medium, triangular, erect ears with thick fur on outer surface",
        "gait": "steady, powerful, energy-efficient gait suited for long-distance freight pulling",
        "size": "large indigenous Arctic sled dog of the Canadian North",
    },
    "alaunt": {
        "skull": "massive, broad skull with pronounced zygomatic arches and strong, square muzzle",
        "body": "large, heavily muscled but agile body with deep chest and strong loin",
        "fore_legs": "straight, thick-boned forelegs with slightly sloping shoulders",
        "hind_legs": "powerful hindquarters with moderate angulation and wide stance",
        "legs_paws": "large, round paws with strong nails for grip during hunting and holding prey",
        "tail": "long, tapering tail carried low or in slight curve",
        "fur": "short to medium harsh coat in varied colors and patterns",
        "ears": "medium, often cropped or semi-erect in historical depictions",
        "gait": "heavy but athletic gait with explosive bursts of speed and strong forward drive",
        "size": "large extinct molosser-type catch and war dog of medieval Europe",
    },
    "molossian hound": {
        "skull": "broad, deep skull with heavy muzzle and strong jaws",
        "body": "massive, imposing frame with deep chest and thick neck",
        "fore_legs": "straight, massive-boned forelegs supporting great weight",
        "hind_legs": "strong hindquarters with moderate angulation built for power",
        "legs_paws": "large, heavy paws with thick pads",
        "tail": "long, thick tail carried low or slightly curved",
        "fur": "short, dense coat, likely weather-resistant",
        "ears": "medium pendant or cropped in historical descriptions",
        "gait": "deliberate, powerful gait emphasizing presence rather than speed",
        "size": "giant, now-extinct livestock guardian and war dog of ancient Epirus",
    },
    "tahltan bear dog": {
        "skull": "small, wedge-shaped skull with pointed muzzle",
        "body": "small but athletic, lightly built body with deep chest",
        "fore_legs": "straight, fine-boned forelegs",
        "hind_legs": "moderately angulated hindquarters built for agility",
        "legs_paws": "small, compact paws",
        "tail": "distinct fishhook-shaped tail carried high with tight curve",
        "fur": "short to medium double coat suited to northern climate",
        "ears": "erect, pointed ears",
        "gait": "quick, darting, agile gait aiding in harassing large game",
        "size": "small extinct hunting dog of the Tahltan people in Canada",
    },
    "hawaiian poi dog": {
        "skull": "broad, somewhat flat skull with short muzzle",
        "body": "medium, somewhat low-set, pot-bellied body as described historically",
        "fore_legs": "straight but sometimes slightly bowed forelegs",
        "hind_legs": "moderate hindquarter angulation with limited musculature for speed",
        "legs_paws": "moderate-sized paws with soft pads due to soft terrain and lifestyle",
        "tail": "medium tail carried curved or straight depending on historical accounts",
        "fur": "short, sparse coat in varied colors",
        "ears": "small, often semi-erect or dropped ears",
        "gait": "slow, unhurried gait befitting a sedentary lifestyle",
        "size": "medium now-extinct Polynesian companion and food-source dog",
    },
    "turnspit dog": {
        "skull": "moderate, slightly domed skull with medium-length muzzle",
        "body": "long, low, sturdy body with well-sprung ribs built for endurance on a wheel",
        "fore_legs": "very short, often crooked forelegs with dwarf morphology",
        "hind_legs": "short hind legs with moderate angulation and strong muscles",
        "legs_paws": "round, compact paws",
        "tail": "medium tail, sometimes docked historically",
        "fur": "medium, rough or smooth coat depending on local type",
        "ears": "semi-erect or pendant ears in historical drawings",
        "gait": "short-strided gait with emphasis on endurance rather than speed",
        "size": "small, now-extinct working dog used to turn roasting spits in old kitchens",
    },
    "lupo italiano": {
        "skull": "noble, wolf-like skull with long, tapered muzzle and pronounced stop",
        "body": "medium, athletic, slightly elongated body with deep chest and strong loin",
        "fore_legs": "straight, long forelegs with moderate bone and flexible pasterns",
        "hind_legs": "well-angulated, muscular hindquarters with long upper thighs",
        "legs_paws": "oval, compact paws with thick pads and slightly arched toes",
        "tail": "bushy tail carried low or in gentle curve when alert",
        "fur": "thick double coat with dense undercoat and wolf-gray outer hair",
        "ears": "medium, triangular, erect ears with mobile carriage",
        "gait": "free, elastic, ground-covering trot reminiscent of wild canids",
        "size": "medium Italian working breed developed from wolf-dog crosses",
    },






}




def anatomy(breed: str) -> str:
    """
    Returns a combined anatomical description for the given breed,
    including a strong generic canine + hind-leg prior if breed is unknown.
    """
    b = breed.lower().strip()
    if b not in BREED_ANATOMY:
        # Fallback to a generic but detailed canine description
        return f"{CANINE_ANATOMY_PRIOR}, {HINDLEG_FOCUS}"

    x = BREED_ANATOMY[b]
    parts = [
        x.get("skull", ""),
        x.get("body", ""),
        x.get("legs_paws", ""),
        x.get("tail", ""),
        x.get("fur", ""),
    ]
    # Filter empty and add global hind-leg focus
    parts = [p for p in parts if p]
    parts.append(HINDLEG_FOCUS)
    parts.append(CANINE_ANATOMY_PRIOR)
    return ", ".join(parts)



class RealLifeDogSDXL:
    def __init__(
        self,
        base: str = "stabilityai/stable-diffusion-xl-base-1.0",
        refiner: str = "stabilityai/stable-diffusion-xl-refiner-1.0",
        lora_path: Optional[str] = None,
        lora_weight: float = 0.8,
        device: Optional[str] = None,
    ):
        if device is None:
            device = "cuda" if torch.cuda.is_available() else "cpu"
        self.device = device

        dtype = torch.float16 if device == "cuda" else torch.float32

        print("[INIT] Loading SDXL base")
        self.base = StableDiffusionXLPipeline.from_pretrained(
            base,
            torch_dtype=dtype,
            use_safetensors=True,
        ).to(device)
        self.base.scheduler = EulerAncestralDiscreteScheduler.from_config(
            self.base.scheduler.config
        )

        print("[INIT] Loading SDXL refiner")
        self.refiner = StableDiffusionXLImg2ImgPipeline.from_pretrained(
            refiner,
            torch_dtype=dtype,
            use_safetensors=True,
        ).to(device)

        # Optional LoRA
        if lora_path and os.path.exists(lora_path):
            print(f"[INIT] Loading LoRA: {lora_path}")
            self.base.load_lora_weights(lora_path, adapter_name="rl")
            self.base.set_adapters(["rl"], adapter_weights=[lora_weight])
            try:
                self.refiner.load_lora_weights(lora_path, adapter_name="rl")
                self.refiner.set_adapters(["rl"], adapter_weights=[lora_weight])
            except Exception as e:
                print(f"[WARN] Could not load LoRA into refiner: {e}")

    def build_prompt(self, breed: str) -> str:
        """
        Builds a photoreal + anatomy-aware prompt.
        - Enforces full-body side profile so hind legs are clearly visible
        - Injects strong hind-leg anatomy priors
        """
        anatomy_text = anatomy(breed)

        pose_and_camera = (
            "full-body standing side profile, legs fully visible, "
            "natural balanced stance, realistic weight distribution on all four paws, "
            "shot at eye-level with the dog, subtle depth of field, background not hiding the legs"
        )

        return (
            f"{PHOTO_PRIOR}. "
            f"Real-life {breed} dog, {anatomy_text}. "
            f"{pose_and_camera}. "
            "High realism, natural imperfections, no stylization."
        )

    def generate(
    self,
    breed: str = "siberian husky",
    seed: int = None,
    steps_base: int = 28,
    steps_refiner: int = 20,
    scale: float = 5.5,
    width: int = 1024,
    height: int = 1024,
) -> Image.Image:

    width, height = snap(width), snap(height)
    prompt = self.build_prompt(breed)
    print("[PROMPT]")
    print(prompt)

    # -------- RANDOM SEED --------
    if seed is None:
        seed = torch.randint(0, 2**31 - 1, (1,)).item()
    print(f"[SEED] {seed}")
    g = torch.Generator(self.device).manual_seed(seed)

    # -------- TIMESTEP LOGIC --------
    total_steps = steps_base + steps_refiner
    split = steps_base / float(total_steps)

    # Reset scheduler
    self.base.scheduler.set_timesteps(total_steps)

    # Universal sigma safety
    safe_max = len(self.base.scheduler.sigmas) - 1
    if total_steps > safe_max:
        print(f"[WARN] Clamping steps {total_steps}  {safe_max}")
        total_steps = safe_max
        self.base.scheduler.set_timesteps(total_steps)

    print(f"[DEBUG] Using {len(self.base.scheduler.sigmas)} sigmas, {total_steps} steps.")

    # -------- LONG PROMPT CHUNKING --------
    prompt_embeds, negative_embeds = self.base.encode_prompt(
        prompt=prompt,
        negative_prompt=DEFAULT_NEG,
        device=self.device,
        do_classifier_free_guidance=True,
        max_length=200
    )

    # -------- BASE PASS --------
    base_out = self.base(
        prompt_embeds=prompt_embeds,
        negative_prompt_embeds=negative_embeds,
        height=height,
        width=width,
        num_inference_steps=total_steps,
        guidance_scale=scale,
        generator=g,
        denoising_end=split,
        output_type="latent",
    )

    latents = base_out.images

    # -------- REFINER PASS --------
    refined = self.refiner(
        prompt=prompt,                     
        negative_prompt=DEFAULT_NEG,
        image=latents,
        num_inference_steps=total_steps,
        guidance_scale=scale,
        generator=g,
        denoising_start=split,
    )

    img = refined.images[0]

    # -------- REALISM PASSES --------
    img = tone(img)
    img = microfur(img)
    img = real_sensor_noise(img)

    return img


def main():
    import argparse

    parser = argparse.ArgumentParser(description="Real-Life SDXL Dog Generator (Hind-Leg Corrected)")
    parser.add_argument("--breed", default="siberian husky", help="Dog breed (string)")
    parser.add_argument("--lora", default=None, help="Optional LoRA path for extra realism")
    parser.add_argument("--out", default="./output", help="Output directory")
    parser.add_argument("--seed", type=int, default=1234, help="Random seed")
    args = parser.parse_args()

    os.makedirs(args.out, exist_ok=True)

    gen = RealLifeDogSDXL(lora_path=args.lora)
    img = gen.generate(
        breed=args.breed,
        seed=args.seed,
    )

    name = args.breed.replace(" ", "_")
    ts = datetime.datetime.now().strftime("%Y%m%d_%H%M%S")
    path = os.path.join(args.out, f"{name}_{ts}.png")
    img.save(path)
    print("[SAVED]", path)


if __name__ == "__main__":
    main()
